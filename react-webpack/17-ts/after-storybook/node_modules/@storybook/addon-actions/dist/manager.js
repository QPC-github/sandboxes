"use strict";var Q=Object.create;var P=Object.defineProperty;var X=Object.getOwnPropertyDescriptor;var Z=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,tt=Object.prototype.hasOwnProperty;var ot=(o,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Z(e))!tt.call(o,r)&&r!==t&&P(o,r,{get:()=>e[r],enumerable:!(n=X(e,r))||n.enumerable});return o};var c=(o,e,t)=>(t=o!=null?Q(R(o)):{},ot(e||!o||!o.__esModule?P(t,"default",{value:o,enumerable:!0}):t,o));var p=c(require("react")),f=require("@storybook/addons"),v=require("@storybook/core-events");var O=c(require("react")),G=require("dequal"),C=require("@storybook/core-events");var s=c(require("react")),g=require("@storybook/theming"),N=require("react-inspector"),A=require("@storybook/components");var y=require("@storybook/theming"),I=require("polished"),_=y.styled.div({display:"flex",padding:0,borderLeft:"5px solid transparent",borderBottom:"1px solid transparent",transition:"all 0.1s",alignItems:"flex-start",whiteSpace:"pre"}),L=y.styled.div(({theme:o})=>({backgroundColor:(0,I.opacify)(.5,o.appBorderColor),color:o.color.inverseText,fontSize:o.typography.size.s1,fontWeight:o.typography.weight.bold,lineHeight:1,padding:"1px 5px",borderRadius:20,margin:"2px 0px"})),w=y.styled.div({flex:1,padding:"0 0 0 5px"});var et=({children:o,className:e})=>s.default.createElement(A.ScrollArea,{horizontal:!0,vertical:!0,className:e},o),nt=(0,g.styled)(et)({margin:0,padding:"10px 5px 20px"}),rt=(0,g.withTheme)(({theme:o,...e})=>s.default.createElement(N.Inspector,{theme:o.addonActionsTheme||"chromeLight",table:!1,...e})),j=({actions:o,onClear:e})=>s.default.createElement(s.Fragment,null,s.default.createElement(nt,null,o.map(t=>s.default.createElement(_,{key:t.id},t.count>1&&s.default.createElement(L,null,t.count),s.default.createElement(w,null,s.default.createElement(rt,{sortObjectKeys:!0,showNonenumerable:!1,name:t.data.name,data:t.data.args||t.data}))))),s.default.createElement(A.ActionBar,{actionItems:[{title:"Clear",onClick:e}]}));var x="actions",E="storybook/actions",k=`${E}/panel`,a=`${E}/action-event`;var T=c(require("uuid-browser/v4")),F=require("@storybook/addons");var l={depth:10,clearOnStoryChange:!0,limit:50};var M=(o,e)=>{let t=Object.getPrototypeOf(o);return!t||e(t)?t:M(t,e)},it=o=>Boolean(typeof o=="object"&&o&&M(o,e=>/^Synthetic(?:Base)?Event$/.test(e.constructor.name))&&typeof o.persist=="function"),st=o=>{if(it(o)){let e=Object.create(o.constructor.prototype,Object.getOwnPropertyDescriptors(o));e.persist();let t=Object.getOwnPropertyDescriptor(e,"view"),n=t==null?void 0:t.value;return typeof n=="object"&&(n==null?void 0:n.constructor.name)==="Window"&&Object.defineProperty(e,"view",{...t,value:Object.create(n.constructor.prototype)}),e}return o};function H(o,e={}){let t={...l,...e},n=function(...i){let m=F.addons.getChannel(),u=(0,T.default)(),h=5,S=i.map(st),U=i.length>1?S:S[0],J={id:u,count:0,data:{name:o,args:U},options:{...t,maxDepth:h+(t.depth||3),allowFunction:t.allowFunction||!1}};m.emit(a,J)};return n.isAction=!0,n}var D=(...o)=>{let e=l,t=o;t.length===1&&Array.isArray(t[0])&&([t]=t),t.length!==1&&typeof t[t.length-1]!="string"&&(e={...l,...t.pop()});let n=t[0];(t.length!==1||typeof n=="string")&&(n={},t.forEach(i=>{n[i]=i}));let r={};return Object.keys(n).forEach(i=>{r[i]=H(n[i],e)}),r};var K=c(require("util-deprecate")),at=require("ts-dedent");var jt=(0,K.default)(()=>{},"decorate.* is no longer supported as of Storybook 6.0.");var z=c(require("global")),b=require("@storybook/addons"),B=c(require("util-deprecate")),W=require("ts-dedent");var{document:Y,Element:$}=z.default,ct=/^(\S+)\s*(.*)$/,pt=$!=null&&!$.prototype.matches,mt=pt?"msMatchesSelector":"matches",V=(o,e)=>{if(o[mt](e))return!0;let t=o.parentElement;return t?V(t,e):!1},lt=(o,...e)=>{let t=o(...e);return Object.entries(t).map(([n,r])=>{let[i,m,u]=n.match(ct)||[];return{eventName:m,handler:h=>{(!u||V(h.target,u))&&r(h)}}})},q=(0,B.default)((o,...e)=>{let t=Y&&Y.getElementById("storybook-root");(0,b.useEffect)(()=>{if(t!=null){let n=lt(o,...e);return n.forEach(({eventName:r,handler:i})=>t.addEventListener(r,i)),()=>n.forEach(({eventName:r,handler:i})=>t.removeEventListener(r,i))}},[t,o,e])},W.dedent`
    withActions(options) is deprecated, please configure addon-actions using the addParameter api:

    addParameters({
      actions: {
        handles: options
      },
    });
  `),dt=(o,e)=>{e&&q(o,e)},Mt=(0,b.makeDecorator)({name:"withActions",parameterName:x,skipIfNoParametersOrOptions:!0,wrapper:(o,e,{parameters:t,options:n})=>(dt(D,n),t&&t.handles&&q(D,...t.handles),o(e))});module&&module.hot&&module.hot.decline&&module.hot.decline();var ft=(o,e)=>{try{return(0,G.dequal)(o,e)}catch{return!1}},d=class extends O.Component{constructor(t){super(t);this.handleStoryChange=()=>{let{actions:t}=this.state;t.length>0&&t[0].options.clearOnStoryChange&&this.clearActions()};this.addAction=t=>{this.setState(n=>{let r=[...n.actions],i=r.length&&r[0];return i&&ft(i.data,t.data)?i.count++:(t.count=1,r.unshift(t)),{actions:r.slice(0,t.options.limit)}})};this.clearActions=()=>{this.setState({actions:[]})};this.mounted=!1,this.state={actions:[]}}componentDidMount(){this.mounted=!0;let{api:t}=this.props;t.on(a,this.addAction),t.on(C.STORY_CHANGED,this.handleStoryChange)}componentWillUnmount(){this.mounted=!1;let{api:t}=this.props;t.off(C.STORY_CHANGED,this.handleStoryChange),t.off(a,this.addAction)}render(){let{actions:t=[]}=this.state,{active:n}=this.props,r={actions:t,onClear:this.clearActions};return n?O.default.createElement(j,{...r}):null}};f.addons.register(E,o=>{f.addons.addPanel(k,{title(){let[e,t]=(0,p.useState)(0),n=()=>t(m=>m+1),r=()=>t(0);return(0,p.useEffect)(()=>(o.on(a,n),o.on(v.STORY_CHANGED,r),()=>{o.off(a,n),o.off(v.STORY_CHANGED,r)})),`Actions${e===0?"":` (${e})`}`},type:f.types.PANEL,render:({active:e,key:t})=>p.default.createElement(d,{key:t,api:o,active:!!e}),paramKey:x})});
