var Gt=Object.create;var J=Object.defineProperty;var Ht=Object.getOwnPropertyDescriptor;var Ut=Object.getOwnPropertyNames;var Kt=Object.getPrototypeOf,_t=Object.prototype.hasOwnProperty;var A=(e,t)=>{for(var o in t)J(e,o,{get:t[o],enumerable:!0})},Ue=(e,t,o,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of Ut(t))!_t.call(e,l)&&l!==o&&J(e,l,{get:()=>t[l],enumerable:!(i=Ht(t,l))||i.enumerable});return e};var b=(e,t,o)=>(o=e!=null?Gt(Kt(e)):{},Ue(t||!e||!e.__esModule?J(o,"default",{value:e,enumerable:!0}):o,e)),$t=e=>Ue(J({},"__esModule",{value:!0}),e);var jo={};A(jo,{ActiveTabs:()=>wo,Consumer:()=>Lt,ManagerContext:()=>z,Provider:()=>ie,combineParameters:()=>ve,merge:()=>C,useAddonState:()=>ko,useArgTypes:()=>Fo,useArgs:()=>Mo,useChannel:()=>jt,useGlobalTypes:()=>No,useGlobals:()=>Do,useParameter:()=>Oo,useSharedState:()=>Vt,useStoryPrepared:()=>Co,useStorybookApi:()=>N,useStorybookState:()=>To});module.exports=$t(jo);var h=b(require("react")),Nt=b(require("lodash/mergeWith")),T=require("@storybook/core-events");var Ke=require("react"),_e=({api:e,state:t})=>(0,Ke.createContext)({api:e,state:t});var V=b(require("store2"));var X=require("telejson"),$e=e=>{e.fn("set",function(t,o){return e.set(this._area,this._in(t),(0,X.stringify)(o,{maxDepth:50}))}),e.fn("get",function(t,o){let i=e.get(this._area,this._in(t));return i!==null?(0,X.parse)(i):o||i})};$e(V.default._);var Be="@storybook/ui/store";function de(e){return e.get(Be)||{}}function Bt(e,t){return e.set(Be,t)}function qt(e,t){let o=de(e);return Bt(e,{...o,...t})}var K=class{constructor({setState:t,getState:o}){this.upstreamSetState=t,this.upstreamGetState=o}getInitialState(t){return{...t,...de(V.default.local),...de(V.default.session)}}getState(){return this.upstreamGetState()}async setState(t,o,i){let l,p;typeof o=="function"?(l=o,p=i):p=o;let{persistence:c="none"}=p||{},n={},d={};typeof t=="function"?n=r=>(d=t(r),d):(n=t,d=n);let a=await new Promise(r=>{this.upstreamSetState(n,r)});if(c!=="none"){let r=c==="session"?V.default.session:V.default.local;await qt(r,d)}return l&&l(a),a}};var qe=b(require("lodash/mergeWith")),Qe=b(require("lodash/isEqual")),We=require("@storybook/client-logger"),C=(e,t)=>(0,qe.default)({},e,t,(o,i)=>{if(Array.isArray(i)&&Array.isArray(o))return i.forEach(l=>{o.find(c=>c===l||(0,Qe.default)(c,l))||o.push(l)}),o;if(Array.isArray(o))return We.logger.log(["the types mismatch, picking",o]),o});var Qt=(...e)=>e.reduce((t,o)=>C(t,o),{}),Z=Qt;var pe={};A(pe,{init:()=>Wt});var Wt=({provider:e,fullAPI:t})=>({api:e.renderPreview?{renderPreview:e.renderPreview}:{},state:{},init:()=>{e.handleAPI(t)}});var ye={};A(ye,{ensurePanel:()=>ue,init:()=>zt,types:()=>Je});var Ye=b(require("util-deprecate")),ze=require("ts-dedent"),Yt=(0,Ye.default)(()=>{},ze.dedent`
    Use 'parameters.key.disable' instead of 'parameters.key.disabled'.
    
    https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-disabled-parameter
  `),Je=(p=>(p.TAB="tab",p.PANEL="panel",p.TOOL="tool",p.PREVIEW="preview",p.NOTES_ELEMENT="notes-element",p))(Je||{});function ue(e,t,o){let i=Object.keys(e);return i.indexOf(t)>=0?t:i.length?i[0]:o}var zt=({provider:e,store:t,fullAPI:o})=>{let i={getElements:l=>e.getElements(l),getPanels:()=>i.getElements("panel"),getStoryPanels:()=>{let l=i.getPanels(),{storyId:p}=t.getState(),c=o.getData(p);if(!l||!c||c.type!=="story")return l;let{parameters:n}=c,d={};return Object.entries(l).forEach(([a,r])=>{let{paramKey:s}=r;if(s&&n&&n[s]&&(n[s].disabled||n[s].disable)){n[s].disabled&&Yt();return}d[a]=r}),d},getSelectedPanel:()=>{let{selectedPanel:l}=t.getState();return ue(i.getPanels(),l,l)},setSelectedPanel:l=>{t.setState({selectedPanel:l},{persistence:"session"})},setAddonState(l,p,c){let n,{addons:d}=t.getState();return typeof p=="function"?n=p(i.getAddonState(l)):n=p,t.setState({addons:{...d,[l]:n}},c).then(()=>i.getAddonState(l))},getAddonState:l=>t.getState().addons[l]};return{api:i,state:{selectedPanel:ue(i.getPanels(),t.getState().selectedPanel),addons:{}}}};var Se={};A(Se,{init:()=>Jt});var ee=require("@storybook/core-events"),Jt=({provider:e})=>{let t={getChannel:()=>e.channel,on:(o,i)=>(e.channel.addListener(o,i),()=>e.channel.removeListener(o,i)),off:(o,i)=>e.channel.removeListener(o,i),once:(o,i)=>e.channel.once(o,i),emit:(o,i,...l)=>{var p;((p=i==null?void 0:i.options)==null?void 0:p.target)&&i.options.target!=="storybook-preview-iframe"&&!i.options.target.startsWith("storybook-ref-")&&(i.options.target=i.options.target!=="storybook_internal"?`storybook-ref-${i.options.target}`:"storybook-preview-iframe"),e.channel.emit(o,i,...l)},collapseAll:()=>{e.channel.emit(ee.STORIES_COLLAPSE_ALL,{})},expandAll:()=>{t.emit(ee.STORIES_EXPAND_ALL)}};return{api:t,state:{}}};var fe={};A(fe,{init:()=>Xt});var Xt=({store:e})=>{let t={addNotification:i=>{t.clearNotification(i.id);let{notifications:l}=e.getState();e.setState({notifications:[...l,i]})},clearNotification:i=>{let{notifications:l}=e.getState();e.setState({notifications:l.filter(c=>c.id!==i)});let p=l.find(c=>c.id===i);p&&p.onClear&&p.onClear()}};return{api:t,state:{notifications:[]}}};var me={};A(me,{init:()=>Zt});var Zt=({store:e,navigate:t,fullAPI:o})=>{let i=()=>{let{path:p}=o.getUrlState();return!!(p||"").match(/^\/settings/)};return{state:{settings:{lastTrackedStoryId:null}},api:{closeSettings:()=>{let{settings:{lastTrackedStoryId:p}}=e.getState();p?o.selectStory(p):o.selectFirstStory()},changeSettingsTab:p=>{t(`/settings/${p}`)},isSettingsScreenActive:i,navigateToSettingsPage:async p=>{if(!i()){let{settings:c,storyId:n}=e.getState();await e.setState({settings:{...c,lastTrackedStoryId:n}})}t(p)}}}};var ge={};A(ge,{init:()=>oo});var Xe=b(require("global")),Ze=b(require("memoizerific")),{RELEASE_NOTES_DATA:eo}=Xe.default,to=(0,Ze.default)(1)(()=>{try{return{...JSON.parse(eo)||{}}}catch{return{}}}),oo=({store:e})=>{let t=to(),o=()=>{let{releaseNotesViewed:l}=e.getState();return l||[]};return{state:{releaseNotesViewed:[]},api:{releaseNotesVersion:()=>t.currentVersion,setDidViewReleaseNotes:()=>{let l=o();l.includes(t.currentVersion)||e.setState({releaseNotesViewed:[...l,t.currentVersion]},{persistence:"permanent"})},showReleaseNotesOnLaunch:()=>{if(!t.currentVersion)return!1;let p=o().includes(t.currentVersion);return t.showOnFirstLaunch&&!p}}}};var Te={};A(Te,{init:()=>fo});var yt=b(require("global")),F=require("@storybook/csf"),v=require("@storybook/core-events"),St=b(require("util-deprecate")),ft=require("@storybook/client-logger");var pt=require("@storybook/client-logger");var we={};A(we,{defaultStoryMapper:()=>dt,getSourceType:()=>Re,init:()=>uo});var Ee=b(require("global")),lt=require("ts-dedent");var be=b(require("memoizerific")),Pe=b(require("util-deprecate")),te=require("ts-dedent"),et=b(require("lodash/mapValues")),tt=b(require("lodash/countBy")),ot=b(require("global")),oe=require("@storybook/csf");var{FEATURES:he}=ot.default,ro=(0,Pe.default)(()=>{},te.dedent`
    The 'showRoots' config option is deprecated and will be removed in Storybook 7.0. Use 'sidebar.showRoots' instead.
    Read more about it in the migration guide: https://github.com/storybookjs/storybook/blob/master/MIGRATION.md
  `),no=(0,Pe.default)(()=>{},te.dedent`
    The default hierarchy separators changed in Storybook 6.0.
    '|' and '.' will no longer create a hierarchy, but codemods are available.
    Read more about it in the migration guide: https://github.com/storybookjs/storybook/blob/master/MIGRATION.md
  `),rt=({globalParameters:e,kindParameters:t,stories:o})=>(0,et.default)(o,i=>({...i,parameters:ve(e,t[i.kind],i.parameters)})),so=/\s*\/\s*/,re=(e,{provider:t,docsOptions:o})=>_(ao(e,{docsOptions:o}),{provider:t,docsOptions:o}),ao=(e,{docsOptions:t})=>{let o=new Set,i=Object.entries(e).reduce((l,[p,c])=>{if(!c)return l;let{docsOnly:n,fileName:d,...a}=c.parameters,r={title:c.kind,id:p,name:c.name,importPath:d};if(n)l[p]={type:"docs",storiesImports:[],...r};else{if(!o.has(r.title)&&t.docsPage){let f=t.defaultName,y=(0,oe.toId)(c.componentId||r.title,f);o.add(r.title),l[y]={type:"docs",storiesImports:[],...r,id:y,name:f}}let{argTypes:s,args:u,initialArgs:S}=c;l[p]={type:"story",...r,parameters:a,argTypes:s,args:u,initialArgs:S}}return l},{});return{v:4,entries:i}},io=e=>{let t=(0,tt.default)(Object.values(e.stories),"title");return{v:4,entries:Object.values(e.stories).reduce((o,i)=>{var p;let l="story";return(((p=i.parameters)==null?void 0:p.docsOnly)||i.name==="Page"&&t[i.title]===1)&&(l="docs"),o[i.id]={type:l,...l==="docs"&&{storiesImports:[]},...i},o},{})}},_=(e,{provider:t,docsOptions:o})=>{if(!e.v)throw new Error("Composition: Missing stories.json version");let i=e.v===4?e:io(e),l=Object.values(i.entries),{sidebar:p={},showRoots:c}=t.getConfig(),{showRoots:n=c,collapsedRoots:d=[],renderLabel:a}=p,r=l.some(({title:y})=>y.match(/\.|\|/));typeof c<"u"&&ro();let s=typeof n<"u";r&&!s&&(he==null?void 0:he.warnOnLegacyHierarchySeparator)&&no();let u=Object.values(l).reduce((y,m)=>{if(o.docsMode&&m.type!=="docs")return y;let{title:g}=m,P=g.trim().split(so),E=(!s||n)&&P.length>1?[P.shift()]:[],w=[...E,...P],R=w.reduce((x,I,L)=>{let ce=L>0&&x[L-1],le=(0,oe.sanitize)(ce?`${ce}-${I}`:I);if(ce===le)throw new Error(te.dedent`
          Invalid part '${I}', leading to id === parentId ('${le}'), inside title '${g}'
          
          Did you create a path that uses the separator char accidentally, such as 'Vue <docs/>' where '/' is a separator char? See https://github.com/storybookjs/storybook/issues/6128
          `);return x.push(le),x},[]);return R.forEach((x,I)=>{let L=R[I+1]||m.id;E.length&&I===0?y[x]=C(y[x]||{},{type:"root",id:x,name:w[I],depth:I,renderLabel:a,startCollapsed:d.includes(x),children:[L],isRoot:!0,isComponent:!1,isLeaf:!1}):(!y[x]||y[x].type==="component")&&I===R.length-1?y[x]=C(y[x]||{},{type:"component",id:x,name:w[I],parent:R[I-1],depth:I,renderLabel:a,...L&&{children:[L]},isRoot:!1,isComponent:!0,isLeaf:!1}):y[x]=C(y[x]||{},{type:"group",id:x,name:w[I],parent:R[I-1],depth:I,renderLabel:a,...L&&{children:[L]},isRoot:!1,isComponent:!1,isLeaf:!1})}),y[m.id]={type:"story",...m,depth:R.length,parent:R[R.length-1],renderLabel:a,...m.type!=="docs"&&{prepared:!!m.parameters},kind:m.title,isRoot:!1,isComponent:!1,isLeaf:!0},y},{});function S(y,m){return y[m.id]||(y[m.id]=m,(m.type==="root"||m.type==="group"||m.type==="component")&&m.children.forEach(g=>S(y,u[g]))),y}let f=Object.values(u).filter(y=>y.type!=="root"&&!y.parent).reduce(S,{});return Object.values(u).filter(y=>y.type==="root").reduce(S,f)},nt=(e,t)=>t?Object.fromEntries(Object.entries(e).map(([o,i])=>{let l=t[o];return i.type==="story"&&(l==null?void 0:l.type)==="story"&&l.prepared?[o,{...l,...i,prepared:!0}]:[o,i]})):e,st=(0,be.default)(1)(e=>Object.entries(e).reduce((t,o)=>{let i=o[1];return i.type==="component"&&t.push([...i.children]),t},[])),at=(0,be.default)(1)(e=>Object.keys(e).filter(t=>["story","docs"].includes(e[t].type)));var{location:co,fetch:it}=Ee.default,ct=/(\/((?:[^\/]+?)\.[^\/]+?)|\/)$/,Re=(e,t)=>{let{origin:o,pathname:i}=co,{origin:l,pathname:p}=new URL(e),c=`${o+i}`.replace(ct,""),n=`${l+p}`.replace(ct,"");return c===n?["local",n]:t||e?["external",n]:[null,null]},dt=(e,t)=>({...t,kind:t.kind.replace("|","/")}),lo=(e,t)=>Object.entries(e).reduce((o,[i,l])=>({...o,[i]:{...l,refId:t.id}}),{});async function xe(e){if(!e)return{};try{let t=await e;if(!t.ok)return{};let o=await t.json();return o.entries||o.stories?{storyIndex:o}:o}catch(t){return{error:t}}}var po=(e,t,o)=>{let{storyMapper:i}=o;return i?Object.entries(e).reduce((l,[p,c])=>({...l,[p]:i(t,c)}),{}):e},uo=({store:e,provider:t,singleStory:o,docsOptions:i={}},{runCheck:l=!0}={})=>{let p={findRef:d=>{let a=p.getRefs();return Object.values(a).find(({url:r})=>r.match(d))},changeRefVersion:(d,a)=>{let{versions:r,title:s}=p.getRefs()[d],u={id:d,url:a,versions:r,title:s,stories:{}};p.checkRef(u)},changeRefState:(d,a)=>{let{[d]:r,...s}=p.getRefs();s[d]={...r,ready:a},e.setState({refs:s})},checkRef:async d=>{let{id:a,url:r,version:s,type:u}=d,S=u==="server-checked",f={},y=s?`?version=${s}`:"",m=S?"omit":"include",[g,P]=await Promise.all(["index.json","stories.json"].map(async w=>it(`${r}/${w}${y}`,{headers:{Accept:"application/json"},credentials:m})));if(g.ok||P.ok){let[w,R]=await Promise.all([g.ok?xe(g):xe(P),xe(it(`${r}/metadata.json${y}`,{headers:{Accept:"application/json"},credentials:m,cache:"no-cache"}).catch(()=>!1))]);Object.assign(f,{...w,...R})}else S||(f.error={message:lt.dedent`
            Error: Loading of ref failed
              at fetch (lib/api/src/modules/refs.ts)

            URL: ${r}

            We weren't able to load the above URL,
            it's possible a CORS error happened.

            Please check your dev-tools network tab.
          `});let E=d.versions&&Object.keys(d.versions).length?d.versions:f.versions;await p.setRef(a,{id:a,url:r,...f,...E?{versions:E}:{},type:f.storyIndex?"lazy":"auto-inject"})},getRefs:()=>{let{refs:d={}}=e.getState();return d},setRef:(d,{storyIndex:a,setStoriesData:r,...s},u=!1)=>{if(o)return;let{storyMapper:S=dt}=t.getConfig(),f=p.getRefs()[d],y;r?y=re(po(r,f,{storyMapper:S}),{provider:t,docsOptions:i}):a&&(y=_(a,{provider:t,docsOptions:i})),y&&(y=lo(y,f)),p.updateRef(d,{stories:y,...s,ready:u})},updateRef:(d,a)=>{let{[d]:r,...s}=p.getRefs();s[d]={...r,...a};let u=Object.keys(n).reduce((S,f)=>(S[f]=s[f],S),{});e.setState({refs:u})}},c=!o&&Ee.default.REFS||{},n=c;return l&&Object.entries(c).forEach(([d,a])=>{p.checkRef({...a,stories:{}})}),{api:p,state:{refs:n}}};var k=(e,t)=>{let{source:o,refId:i,type:l}=e,[p,c]=Re(o,i),n=i&&t.getRefs()[i]?t.getRefs()[i]:t.findRef(c),d={source:o,sourceType:p,sourceLocation:c,refId:i,ref:n,type:l};switch(!0){case typeof i=="string":case p==="local":case p==="external":return d;default:return pt.logger.warn(`Received a ${l} frame that was not configured as a ref`),null}};var{FEATURES:Ie,fetch:yo}=yt.default,So="./index.json",ut=["enableShortcuts","theme","showRoots"].reduce((e,t)=>(e[t]=(0,St.default)(()=>{},`parameters.options.${t} is deprecated and will be removed in Storybook 7.0.
To change this setting, use \`addons.setConfig\`. See https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-immutable-options-parameters
  `),e),{});function Ae(e){!e||Object.keys(e).forEach(t=>{ut[t]&&ut[t]()})}var fo=({fullAPI:e,store:t,navigate:o,provider:i,storyId:l,viewMode:p,docsOptions:c={}})=>{let n={storyId:F.toId,getData:(a,r)=>{let s=n.resolveStory(a,r);if((s==null?void 0:s.type)==="story"||(s==null?void 0:s.type)==="docs")return s},isPrepared:(a,r)=>{let s=n.getData(a,r);return s.type==="story"?s.prepared:!0},resolveStory:(a,r)=>{let{refs:s,storiesHash:u}=t.getState();return r?s[r].stories?s[r].stories[a]:void 0:u?u[a]:void 0},getCurrentStoryData:()=>{let{storyId:a,refId:r}=t.getState();return n.getData(a,r)},getParameters:(a,r)=>{let{storyId:s,refId:u}=typeof a=="string"?{storyId:a,refId:void 0}:a,S=n.getData(s,u);if((S==null?void 0:S.type)==="story"){let{parameters:f}=S;if(f)return r?f[r]:f}return null},getCurrentParameter:a=>{let{storyId:r,refId:s}=t.getState();return n.getParameters({storyId:r,refId:s},a)||void 0},jumpToComponent:a=>{let{storiesHash:r,storyId:s,refs:u,refId:S}=t.getState();if(!n.getData(s,S))return;let y=S?u[S].stories||{}:r,m=n.findSiblingStoryId(s,y,a,!0);m&&n.selectStory(m,void 0,{ref:S})},jumpToStory:a=>{let{storiesHash:r,storyId:s,refs:u,refId:S}=t.getState(),f=n.getData(s,S);if(!f)return;let y=f.refId?u[f.refId].stories:r,m=n.findSiblingStoryId(s,y,a,!1);m&&n.selectStory(m,void 0,{ref:S})},setStories:async(a,r)=>{let s=re(a,{provider:i,docsOptions:c});await t.setState({storiesHash:s,storiesConfigured:!0,storiesFailed:r})},selectFirstStory:()=>{let{storiesHash:a}=t.getState(),r=Object.keys(a).find(s=>a[s].type==="story");if(r){n.selectStory(r);return}o("/")},selectStory:(a=void 0,r=void 0,s={})=>{let{ref:u}=s,{storyId:S,storiesHash:f,refs:y}=t.getState(),m=u?y[u].stories:f,g=S==null?void 0:S.split("--",2)[0];if(r)if(a){let P=u?`${u}_${(0,F.toId)(a,r)}`:(0,F.toId)(a,r);if(m[P])n.selectStory(P,void 0,s);else{let E=m[(0,F.sanitize)(a)];if((E==null?void 0:E.type)==="component"){let w=E.children.find(R=>m[R].name===r);w&&n.selectStory(w,void 0,s)}}}else{let P=(0,F.toId)(g,r);n.selectStory(P,void 0,s)}else{let P=a?m[a]||m[(0,F.sanitize)(a)]:m[g];if(!P)throw new Error(`Unknown id or title: '${a}'`);let E=n.findLeafEntry(m,P.id),w=E.refId?`${E.refId}_${E.id}`:E.id;o(`/${E.type}/${w}`)}},findLeafEntry(a,r){let s=a[r];if(s.type==="docs"||s.type==="story")return s;let u=s.children[0];return n.findLeafEntry(a,u)},findLeafStoryId(a,r){var s;return(s=n.findLeafEntry(a,r))==null?void 0:s.id},findSiblingStoryId(a,r,s,u){if(u){let y=st(r),m=y.findIndex(g=>g.includes(a));return m===y.length-1&&s>0||m===0&&s<0?void 0:y[m+s]?y[m+s][0]:void 0}let S=at(r),f=S.indexOf(a);if(!(f===S.length-1&&s>0)&&!(f===0&&s<0))return S[f+s]},updateStoryArgs:(a,r)=>{let{id:s,refId:u}=a;e.emit(v.UPDATE_STORY_ARGS,{storyId:s,updatedArgs:r,options:{target:u}})},resetStoryArgs:(a,r)=>{let{id:s,refId:u}=a;e.emit(v.RESET_STORY_ARGS,{storyId:s,argNames:r,options:{target:u}})},fetchStoryList:async()=>{try{let a=await yo(So);if(a.status!==200)throw new Error(await a.text());let r=await a.json();if(r.v<3){ft.logger.warn(`Skipping story index with version v${r.v}, awaiting SET_STORIES.`);return}await e.setStoryList(r)}catch(a){t.setState({storiesConfigured:!0,storiesFailed:a})}},setStoryList:async a=>{let r=_(a,{provider:i,docsOptions:c}),s=t.getState().storiesHash;await t.setState({storiesHash:nt(r,s),storiesConfigured:!0,storiesFailed:null})},updateStory:async(a,r,s)=>{if(s){let{id:u,stories:S}=s;S[a]={...S[a],...r},await e.updateRef(u,{stories:S})}else{let{storiesHash:u}=t.getState();u[a]={...u[a],...r},await t.setState({storiesHash:u})}}};return{api:n,state:{storiesHash:{},storyId:l,viewMode:p,storiesConfigured:!1,hasCalledSetOptions:!1},init:async()=>{var a;e.on(v.STORY_SPECIFIED,function({storyId:s,viewMode:u}){let{sourceType:S}=k(this,e);if(!e.isSettingsScreenActive()&&S==="local"){let f=t.getState();(f.storyId!==s||f.viewMode!==u)&&o(`/${u}/${s}`)}}),e.on(v.STORY_CHANGED,function(){let{sourceType:s}=k(this,e);if(s==="local"){let u=e.getCurrentParameter("options");u&&(Ae(u),e.setOptions(u))}}),e.on(v.STORY_PREPARED,function({id:s,...u}){let{ref:S,sourceType:f}=k(this,e);if(e.updateStory(s,{...u,prepared:!0},S),S)e.updateRef(S.id,{ready:!0});else if(!t.getState().hasCalledSetOptions){let{options:y}=u.parameters;Ae(y),e.setOptions(y),t.setState({hasCalledSetOptions:!0})}if(f==="local"){let{storyId:y,storiesHash:m,refId:g}=t.getState(),P=Array.from(new Set([n.findSiblingStoryId(y,m,1,!0),n.findSiblingStoryId(y,m,-1,!0)])).filter(Boolean);e.emit(v.PRELOAD_ENTRIES,{ids:P,options:{target:g}})}}),e.on(v.SET_STORIES,function(s){let{ref:u}=k(this,e),S=s.v?rt(s):s.stories;if(u)e.setRef(u.id,{...u,setStoriesData:S},!0);else{if(!s.v)throw new Error("Unexpected legacy SET_STORIES event from local source");e.setStories(S);let f=e.getCurrentParameter("options");Ae(f),e.setOptions(f)}}),e.on(v.SELECT_STORY,function({kind:s,story:u,storyId:S,...f}){let{ref:y}=k(this,e);y?e.selectStory(S||s,u,{...f,ref:y.id}):e.selectStory(S||s,u,f)}),e.on(v.STORY_ARGS_UPDATED,function({storyId:s,args:u}){let{ref:S}=k(this,e);e.updateStory(s,{args:u},S)}),e.on(v.CONFIG_ERROR,function(s){t.setState({storiesConfigured:!0,storiesFailed:s})}),Ie!=null&&Ie.storyStoreV7&&((a=i.serverChannel)==null||a.on(v.STORY_INDEX_INVALIDATED,()=>e.fetchStoryList()),await e.fetchStoryList())}}};var ne={};A(ne,{ActiveTabs:()=>vt,focusableUIElements:()=>B,init:()=>go});var mt=b(require("global")),G=b(require("lodash/pick")),$=require("dequal"),gt=require("@storybook/theming/create"),ht=require("@storybook/core-events"),bt=require("@storybook/client-logger"),Pt=require("ts-dedent");var{document:mo}=mt.default,vt={SIDEBAR:"sidebar",CANVAS:"canvas",ADDONS:"addons"},j={ui:{enableShortcuts:!0},layout:{initialActive:vt.CANVAS,showToolbar:!0,isFullscreen:!1,showPanel:!0,showNav:!0,panelPosition:"bottom",showTabs:!0},selectedPanel:void 0,theme:(0,gt.create)()},B={storySearchField:"storybook-explorer-searchfield",storyListMenu:"storybook-explorer-menu",storyPanelRoot:"storybook-panel-root"},go=({store:e,provider:t,singleStory:o,fullAPI:i})=>{let l={toggleFullscreen(c){return e.setState(n=>{let{showNav:d}=n.layout,a=typeof c=="boolean"?c:!n.layout.isFullscreen,r=d===!1&&a===!1;return{layout:{...n.layout,isFullscreen:a,showNav:!o&&r?!0:d}}},{persistence:"session"})},togglePanel(c){return e.setState(n=>{let{showNav:d,isFullscreen:a}=n.layout,r=typeof c<"u"?c:!n.layout.showPanel,s=d===!1&&r===!1;return{layout:{...n.layout,showPanel:r,isFullscreen:s?!0:a}}},{persistence:"session"})},togglePanelPosition(c){return typeof c<"u"?e.setState(n=>({layout:{...n.layout,panelPosition:c}}),{persistence:"permanent"}):e.setState(n=>({layout:{...n.layout,panelPosition:n.layout.panelPosition==="right"?"bottom":"right"}}),{persistence:"permanent"})},toggleNav(c){return e.setState(n=>{if(o)return{layout:n.layout};let{showPanel:d,isFullscreen:a}=n.layout,r=typeof c<"u"?c:!n.layout.showNav,s=d===!1&&r===!1;return{layout:{...n.layout,showNav:r,isFullscreen:s?!0:!r&&a}}},{persistence:"session"})},toggleToolbar(c){return e.setState(n=>{let d=typeof c<"u"?c:!n.layout.showToolbar;return{layout:{...n.layout,showToolbar:d}}},{persistence:"session"})},resetLayout(){return e.setState(c=>({layout:{...c.layout,showNav:!1,showPanel:!1,isFullscreen:!1}}),{persistence:"session"})},focusOnUIElement(c,n){if(!c)return;let d=mo.getElementById(c);d&&(d.focus(),n&&d.select())},getInitialOptions(){var a;let{theme:c,selectedPanel:n,...d}=t.getConfig();return((a=d.layout)==null?void 0:a.isToolshown)!==void 0&&(bt.once.warn(Pt.dedent`
          The "isToolshown" option is deprecated. Please use "showToolbar" instead.

          See https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#renamed-istoolshown-to-showtoolbar
        `),d.layout.showToolbar=d.layout.isToolshown),{...j,layout:{...j.layout,...(0,G.default)(d,Object.keys(j.layout)),...o&&{showNav:!1}},ui:{...j.ui,...(0,G.default)(d,Object.keys(j.ui))},selectedPanel:n||j.selectedPanel,theme:c||j.theme}},setOptions:c=>{let{layout:n,ui:d,selectedPanel:a,theme:r}=e.getState();if(c){let s={...n,...(0,G.default)(c,Object.keys(n)),...o&&{showNav:!1}},u={...d,...(0,G.default)(c,Object.keys(d))},S={...r,...c.theme},f={};(0,$.dequal)(d,u)||(f.ui=u),(0,$.dequal)(n,s)||(f.layout=s),c.selectedPanel&&!(0,$.dequal)(a,c.selectedPanel)&&(f.selectedPanel=c.selectedPanel),Object.keys(f).length&&e.setState(f,{persistence:"permanent"}),(0,$.dequal)(r,S)||e.setState({theme:S})}}},p=(0,G.default)(e.getState(),"layout","ui","selectedPanel");return{api:l,state:C(l.getInitialOptions(),p),init:()=>{l.setOptions(C(l.getInitialOptions(),p)),i.on(ht.SET_CONFIG,()=>{l.setOptions(C(l.getInitialOptions(),p))})}}};var Me={};A(Me,{controlOrMetaKey:()=>se,defaultShortcuts:()=>H,init:()=>bo,isMacLike:()=>Tt,keys:()=>ke});var It=b(require("global")),At=require("@storybook/core-events");var xt=b(require("global")),{navigator:lr}=xt.default;var Et=e=>{if(["Meta","Alt","Control","Shift"].includes(e.key))return null;let t=[];return e.altKey&&t.push("alt"),e.ctrlKey&&t.push("control"),e.metaKey&&t.push("meta"),e.shiftKey&&t.push("shift"),e.key&&e.key.length===1&&e.key!==" "&&t.push(e.key.toUpperCase()),e.key===" "&&t.push("space"),e.key==="Escape"&&t.push("escape"),e.key==="ArrowRight"&&t.push("ArrowRight"),e.key==="ArrowDown"&&t.push("ArrowDown"),e.key==="ArrowUp"&&t.push("ArrowUp"),e.key==="ArrowLeft"&&t.push("ArrowLeft"),t.length>0?t:null},Rt=(e,t)=>!e||!t||(e.join("")==="shift/"&&e.shift(),e.length!==t.length)?!1:!e.find((o,i)=>o!==t[i]);var{navigator:Ce,document:wt}=It.default,Tt=()=>Ce&&Ce.platform?!!Ce.platform.match(/(Mac|iPhone|iPod|iPad)/i):!1,se=()=>Tt()?"meta":"control";function ke(e){return Object.keys(e)}var H=Object.freeze({fullScreen:["F"],togglePanel:["A"],panelPosition:["D"],toggleNav:["S"],toolbar:["T"],search:["/"],focusNav:["1"],focusIframe:["2"],focusPanel:["3"],prevComponent:["alt","ArrowUp"],nextComponent:["alt","ArrowDown"],prevStory:["alt","ArrowLeft"],nextStory:["alt","ArrowRight"],shortcutsPage:[se(),"shift",","],aboutPage:[","],escape:["escape"],collapseAll:[se(),"shift","ArrowUp"],expandAll:[se(),"shift","ArrowDown"]}),Oe={};function ho(e){return/input|textarea/i.test(e.target.tagName)||e.target.getAttribute("contenteditable")!==null}var bo=({store:e,fullAPI:t})=>{let o={getShortcutKeys(){return e.getState().shortcuts},getDefaultShortcuts(){return{...H,...o.getAddonsShortcutDefaults()}},getAddonsShortcuts(){return Oe},getAddonsShortcutLabels(){let c={};return Object.entries(o.getAddonsShortcuts()).forEach(([n,{label:d}])=>{c[n]=d}),c},getAddonsShortcutDefaults(){let c={};return Object.entries(o.getAddonsShortcuts()).forEach(([n,{defaultShortcut:d}])=>{c[n]=d}),c},async setShortcuts(c){return await e.setState({shortcuts:c},{persistence:"permanent"}),c},async restoreAllDefaultShortcuts(){return o.setShortcuts(o.getDefaultShortcuts())},async setShortcut(c,n){let d=o.getShortcutKeys();return await o.setShortcuts({...d,[c]:n}),n},async setAddonShortcut(c,n){let d=o.getShortcutKeys();return await o.setShortcuts({...d,[`${c}-${n.actionName}`]:n.defaultShortcut}),Oe[`${c}-${n.actionName}`]=n,n},async restoreDefaultShortcut(c){let n=o.getDefaultShortcuts()[c];return o.setShortcut(c,n)},handleKeydownEvent(c){let n=Et(c),d=o.getShortcutKeys(),r=ke(d).find(s=>Rt(n,d[s]));r&&(c!=null&&c.preventDefault&&c.preventDefault(),o.handleShortcutFeature(r))},handleShortcutFeature(c){let{layout:{isFullscreen:n,showNav:d,showPanel:a},ui:{enableShortcuts:r}}=e.getState();if(!!r)switch(c){case"escape":{n?t.toggleFullscreen():d||t.toggleNav();break}case"focusNav":{n&&t.toggleFullscreen(),d||t.toggleNav(),t.focusOnUIElement(B.storyListMenu);break}case"search":{n&&t.toggleFullscreen(),d||t.toggleNav(),setTimeout(()=>{t.focusOnUIElement(B.storySearchField,!0)},0);break}case"focusIframe":{let s=wt.getElementById("storybook-preview-iframe");if(s)try{s.contentWindow.focus()}catch{}break}case"focusPanel":{n&&t.toggleFullscreen(),a||t.togglePanel(),t.focusOnUIElement(B.storyPanelRoot);break}case"nextStory":{t.jumpToStory(1);break}case"prevStory":{t.jumpToStory(-1);break}case"nextComponent":{t.jumpToComponent(1);break}case"prevComponent":{t.jumpToComponent(-1);break}case"fullScreen":{t.toggleFullscreen();break}case"togglePanel":{n&&(t.toggleFullscreen(),t.resetLayout()),t.togglePanel();break}case"toggleNav":{n&&(t.toggleFullscreen(),t.resetLayout()),t.toggleNav();break}case"toolbar":{t.toggleToolbar();break}case"panelPosition":{n&&t.toggleFullscreen(),a||t.togglePanel(),t.togglePanelPosition();break}case"aboutPage":{t.navigate("/settings/about");break}case"shortcutsPage":{t.navigate("/settings/shortcuts");break}case"collapseAll":{t.collapseAll();break}case"expandAll":{t.expandAll();break}default:Oe[c].action();break}}},{shortcuts:i=H}=e.getState(),l={shortcuts:ke(H).reduce((c,n)=>({...c,[n]:i[n]||H[n]}),H)};return{api:o,state:l,init:()=>{wt.addEventListener("keydown",c=>{ho(c)||t.handleKeydownEvent(c)}),t.on(At.PREVIEW_KEYDOWN,c=>{t.handleKeydownEvent(c.event)})}}};var Fe={};A(Fe,{init:()=>vo});var Q=require("@storybook/client-logger"),M=require("@storybook/core-events"),Y=require("@storybook/router"),ae=require("@storybook/csf"),Le=require("dequal"),Ct=b(require("global")),W=require("ts-dedent"),{window:De}=Ct.default,q=e=>{if(e==="true"||e==="1")return!0;if(e==="false"||e==="0")return!1},Ne,Po=({state:{location:e,path:t,viewMode:o,storyId:i},singleStory:l})=>{let{full:p,panel:c,nav:n,shortcuts:d,addonPanel:a,tabs:r,addons:s,panelRight:u,stories:S,selectedKind:f,selectedStory:y,path:m,...g}=(0,Y.queryFromLocation)(e),P={isFullscreen:q(p),showNav:!l&&q(n),showPanel:q(c),panelPosition:["right","bottom"].includes(c)?c:void 0,showTabs:q(r)},E={enableShortcuts:q(d)},w=a||void 0;s==="0"&&(Q.once.warn(W.dedent`
      The 'addons' query param is deprecated and will be removed in Storybook 7.0. Use 'panel=false' instead.

      More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-layout-url-params
    `),P.showPanel=!1),u==="1"&&(Q.once.warn(W.dedent`
      The 'panelRight' query param is deprecated and will be removed in Storybook 7.0. Use 'panel=right' instead.

      More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-layout-url-params
    `),P.panelPosition="right"),S==="0"&&(Q.once.warn(W.dedent`
      The 'stories' query param is deprecated and will be removed in Storybook 7.0. Use 'nav=false' instead.

      More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-layout-url-params
    `),P.showNav=!1);let R=i;!R&&f&&(Q.once.warn(W.dedent`
      The 'selectedKind' and 'selectedStory' query params are deprecated and will be removed in Storybook 7.0. Use 'path' instead.

      More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-layout-url-params
    `),R=y?(0,ae.toId)(f,y):(0,ae.sanitize)(f));let x=(0,Le.dequal)(Ne,g)?Ne:g;return Ne=x,{viewMode:o,layout:P,ui:E,selectedPanel:w,location:e,path:t,customQueryParams:x,storyId:R}},vo=({store:e,navigate:t,state:o,provider:i,fullAPI:l,...p})=>{let c=(a,r={},s={})=>{let u=Object.entries(r).filter(([,f])=>f).sort(([f],[y])=>f<y?-1:1).map(([f,y])=>`${f}=${y}`),S=[a,...u].join("&");return t(S,s)},n={getQueryParam(a){let{customQueryParams:r}=e.getState();return r?r[a]:void 0},getUrlState(){let{path:a,customQueryParams:r,storyId:s,url:u,viewMode:S}=e.getState();return{path:a,queryParams:r,storyId:s,url:u,viewMode:S}},setQueryParams(a){let{customQueryParams:r}=e.getState(),s={},u={...r,...Object.entries(a).reduce((S,[f,y])=>(y!==null&&(S[f]=y),S),s)};(0,Le.dequal)(r,u)||(e.setState({customQueryParams:u}),l.emit(M.UPDATE_QUERY_PARAMS,u))},navigateUrl(a,r){t(a,{...r,plain:!0})}},d=()=>{let a=()=>{let{path:s,queryParams:u,viewMode:S}=l.getUrlState();if(S!=="story")return;let f=l.getCurrentStoryData();if((f==null?void 0:f.type)!=="story")return;let{args:y,initialArgs:m}=f,g=(0,Y.buildArgsParam)(m,y);c(s,{...u,args:g},{replace:!0}),n.setQueryParams({args:g})};l.on(M.SET_CURRENT_STORY,()=>a());let r;l.on(M.STORY_ARGS_UPDATED,()=>{"requestIdleCallback"in De?(r&&De.cancelIdleCallback(r),r=De.requestIdleCallback(a,{timeout:1e3})):(r&&clearTimeout(r),setTimeout(a,100))}),l.on(M.GLOBALS_UPDATED,({globals:s,initialGlobals:u})=>{let{path:S,queryParams:f}=l.getUrlState(),y=(0,Y.buildArgsParam)(u,s);c(S,{...f,globals:y},{replace:!0}),n.setQueryParams({globals:y})}),l.on(M.NAVIGATE_URL,(s,u)=>{l.navigateUrl(s,u)}),l.showReleaseNotesOnLaunch()&&t("/settings/release-notes")};return{api:n,state:Po({store:e,navigate:t,state:o,provider:i,fullAPI:l,...p}),init:d}};var je={};A(je,{init:()=>Eo});var Mt=b(require("global")),O=b(require("@storybook/semver")),Dt=b(require("memoizerific"));var Ot="7.0.0-alpha.35";var{VERSIONCHECK:xo}=Mt.default,kt=(0,Dt.default)(1)(()=>{try{return{...JSON.parse(xo).data||{}}}catch{return{}}}),Eo=({store:e,mode:t,fullAPI:o})=>{let{dismissedVersionNotification:i}=e.getState(),l={versions:{current:{version:Ot},...kt()},dismissedVersionNotification:i},p={getCurrentVersion:()=>{let{versions:{current:n}}=e.getState();return n},getLatestVersion:()=>{let{versions:{latest:n,next:d,current:a}}=e.getState();return a&&O.default.prerelease(a.version)&&d?n&&O.default.gt(n.version,d.version)?n:d:n},versionUpdateAvailable:()=>{let n=p.getLatestVersion(),d=p.getCurrentVersion();if(n){if(!n.version||!d.version)return!0;let r=!!O.default.prerelease(d.version)?`${O.default.major(d.version)}.${O.default.minor(d.version)}.${O.default.patch(d.version)}`:d.version,s=O.default.diff(r,n.version);return O.default.gt(n.version,r)&&s!=="patch"&&!s.includes("pre")}return!1}};return{init:async()=>{let{versions:n={}}=e.getState(),{latest:d,next:a}=kt();if(await e.setState({versions:{...n,latest:d,next:a}}),p.versionUpdateAvailable()){let r=p.getLatestVersion().version,s=O.default.diff(n.current.version,n.latest.version);r!==i&&s!=="patch"&&!O.default.prerelease(r)&&t!=="production"&&o.addNotification({id:"update",link:"/settings/about",content:{headline:`Storybook ${r} is available!`,subHeadline:`Your current version is: ${n.current.version}`},icon:{name:"book"},onClear(){e.setState({dismissedVersionNotification:r},{persistence:"permanent"})}})}},state:l,api:p}};var He={};A(He,{init:()=>Ro});var U=require("@storybook/core-events"),Ve=require("@storybook/client-logger"),Ge=require("dequal");var Ro=({store:e,fullAPI:t})=>{let o={getGlobals(){return e.getState().globals},getGlobalTypes(){return e.getState().globalTypes},updateGlobals(c){t.emit(U.UPDATE_GLOBALS,{globals:c,options:{target:"storybook-preview-iframe"}})}},i={globals:{},globalTypes:{}},l=c=>{var d;let n=(d=e.getState())==null?void 0:d.globals;(0,Ge.dequal)(c,n)||e.setState({globals:c})};return{api:o,state:i,init:()=>{t.on(U.GLOBALS_UPDATED,function({globals:n}){let{ref:d}=k(this,t);d?Ve.logger.warn("received a GLOBALS_UPDATED from a non-local ref. This is not currently supported."):l(n)}),t.on(U.SET_GLOBALS,function({globals:n,globalTypes:d}){var s;let{ref:a}=k(this,t),r=(s=e.getState())==null?void 0:s.globals;a?Object.keys(n).length>0&&Ve.logger.warn("received globals from a non-local ref. This is not currently supported."):e.setState({globals:n,globalTypes:d}),r&&Object.keys(r).length!==0&&!(0,Ge.dequal)(n,r)&&o.updateGlobals(r)})}}};var{ActiveTabs:wo}=ne;var z=_e({api:void 0,state:Z({})}),ve=(...e)=>(0,Nt.default)({},...e,(t,o)=>{if(Array.isArray(o))return o}),ie=class extends h.Component{constructor(o){super(o);this.api={};this.initModules=()=>{this.modules.forEach(o=>{"init"in o&&o.init()})};let{location:i,path:l,refId:p,viewMode:c=o.docsOptions.docsMode?"docs":"story",singleStory:n,storyId:d,docsOptions:a,navigate:r}=o,s=new K({getState:()=>this.state,setState:(g,P)=>this.setState(g,P)}),u={location:i,path:l,viewMode:c,singleStory:n,storyId:d,refId:p},S={docsOptions:a};this.state=s.getInitialState(Z({...u,...S}));let f={navigate:r,store:s,provider:o.provider};this.modules=[pe,Se,ye,ne,fe,me,ge,Me,Te,we,He,Fe,je].map(g=>g.init({...u,...S,...f,state:this.state,fullAPI:this.api}));let y=Z(this.state,...this.modules.map(g=>g.state)),m=Object.assign(this.api,{navigate:r},...this.modules.map(g=>g.api));this.state=y,this.api=m}static getDerivedStateFromProps(o,i){return i.path!==o.path?{...i,location:o.location,path:o.path,refId:o.refId,viewMode:o.viewMode,storyId:o.storyId}:null}shouldComponentUpdate(o,i){let l=this.state,p=this.props;return l!==i||p.path!==o.path}render(){let{children:o}=this.props,i={state:this.state,api:this.api};return h.default.createElement(Io,{effect:this.initModules},h.default.createElement(z.Provider,{value:i},h.default.createElement(Lt,null,o)))}};ie.displayName="Manager";var Io=({children:e,effect:t})=>(h.default.useEffect(t,[]),e),Ao=e=>e;function Lt({filter:e=Ao,children:t}){let o=(0,h.useContext)(z),i=(0,h.useRef)(t),l=(0,h.useRef)(e);if(typeof i.current!="function")return h.default.createElement(h.Fragment,null,i.current);let p=l.current(o),c=(0,h.useMemo)(()=>[...Object.entries(p).reduce((n,d)=>n.concat(d),[])],[o.state]);return(0,h.useMemo)(()=>{let n=i.current;return h.default.createElement(n,{...p})},c)}function To(){let{state:e}=(0,h.useContext)(z);return e}function N(){let{api:e}=(0,h.useContext)(z);return e}function Ft(e,t){return typeof e>"u"?t:e}var jt=(e,t=[])=>{let o=N();return(0,h.useEffect)(()=>(Object.entries(e).forEach(([i,l])=>o.on(i,l)),()=>{Object.entries(e).forEach(([i,l])=>o.off(i,l))}),t),o.emit};function Co(e){return N().isPrepared(e)}function Oo(e,t){let i=N().getCurrentParameter(e);return Ft(i,t)}var D={};function Vt(e,t){let o=N(),i=o.getAddonState(e),l=Ft(i,D[e]?D[e]:t),p=(d,a)=>{D[e]&&(D[e]=d),o.setAddonState(e,d,a)},c=(0,h.useMemo)(()=>{let d={[`${T.SHARED_STATE_CHANGED}-client-${e}`]:r=>p(r),[`${T.SHARED_STATE_SET}-client-${e}`]:r=>p(r)},a={[T.SET_STORIES]:()=>{let r=o.getAddonState(e);r?(D[e]=r,o.emit(`${T.SHARED_STATE_SET}-manager-${e}`,r)):D[e]?(p(D[e]),o.emit(`${T.SHARED_STATE_SET}-manager-${e}`,D[e])):t!==void 0&&(p(t),D[e]=t,o.emit(`${T.SHARED_STATE_SET}-manager-${e}`,t))},[T.STORY_CHANGED]:()=>{let r=o.getAddonState(e);r!==void 0&&o.emit(`${T.SHARED_STATE_SET}-manager-${e}`,r)}};return{...d,...a}},[e]),n=jt(c);return[l,(d,a)=>{p(d,a),n(`${T.SHARED_STATE_CHANGED}-manager-${e}`,d)}]}function ko(e,t){return Vt(e,t)}function Mo(){let{getCurrentStoryData:e,updateStoryArgs:t,resetStoryArgs:o}=N(),i=e(),l=i.type==="story"?i.args:{},p=(0,h.useCallback)(n=>t(i,n),[i,t]),c=(0,h.useCallback)(n=>o(i,n),[i,o]);return[l,p,c]}function Do(){let e=N();return[e.getGlobals(),e.updateGlobals]}function No(){return N().getGlobalTypes()}function Lo(){let{getCurrentStoryData:e}=N();return e()}function Fo(){let e=Lo();return(e==null?void 0:e.type)==="story"&&e.argTypes||{}}0&&(module.exports={ActiveTabs,Consumer,ManagerContext,Provider,combineParameters,merge,useAddonState,useArgTypes,useArgs,useChannel,useGlobalTypes,useGlobals,useParameter,useSharedState,useStoryPrepared,useStorybookApi,useStorybookState});
