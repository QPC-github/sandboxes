import"./chunk-JHJS7YLB.mjs";import{a as l,b as d,c as f,d as i}from"./chunk-FEZISCVM.mjs";import F,{useState as K,useEffect as q}from"react";import{addons as C,types as z}from"@storybook/addons";import{STORY_CHANGED as x}from"@storybook/core-events";import k,{Component as O}from"react";import{dequal as w}from"dequal";import{STORY_CHANGED as y}from"@storybook/core-events";import r,{Fragment as S}from"react";import{styled as I,withTheme as L}from"@storybook/theming";import{Inspector as E}from"react-inspector";import{ActionBar as P,ScrollArea as v}from"@storybook/components";import{styled as m}from"@storybook/theming";import{opacify as D}from"polished";var g=m.div({display:"flex",padding:0,borderLeft:"5px solid transparent",borderBottom:"1px solid transparent",transition:"all 0.1s",alignItems:"flex-start",whiteSpace:"pre"}),h=m.div(({theme:t})=>({backgroundColor:D(.5,t.appBorderColor),color:t.color.inverseText,fontSize:t.typography.size.s1,fontWeight:t.typography.weight.bold,lineHeight:1,padding:"1px 5px",borderRadius:20,margin:"2px 0px"})),A=m.div({flex:1,padding:"0 0 0 5px"});var N=({children:t,className:e})=>r.createElement(v,{horizontal:!0,vertical:!0,className:e},t),T=I(N)({margin:0,padding:"10px 5px 20px"}),_=L(({theme:t,...e})=>r.createElement(E,{theme:t.addonActionsTheme||"chromeLight",table:!1,...e})),u=({actions:t,onClear:e})=>r.createElement(S,null,r.createElement(T,null,t.map(o=>r.createElement(g,{key:o.id},o.count>1&&r.createElement(h,null,o.count),r.createElement(A,null,r.createElement(_,{sortObjectKeys:!0,showNonenumerable:!1,name:o.data.name,data:o.data.args||o.data}))))),r.createElement(P,{actionItems:[{title:"Clear",onClick:e}]}));var W=(t,e)=>{try{return w(t,e)}catch{return!1}},a=class extends O{constructor(o){super(o);this.handleStoryChange=()=>{let{actions:o}=this.state;o.length>0&&o[0].options.clearOnStoryChange&&this.clearActions()};this.addAction=o=>{this.setState(s=>{let n=[...s.actions],p=n.length&&n[0];return p&&W(p.data,o.data)?p.count++:(o.count=1,n.unshift(o)),{actions:n.slice(0,o.options.limit)}})};this.clearActions=()=>{this.setState({actions:[]})};this.mounted=!1,this.state={actions:[]}}componentDidMount(){this.mounted=!0;let{api:o}=this.props;o.on(i,this.addAction),o.on(y,this.handleStoryChange)}componentWillUnmount(){this.mounted=!1;let{api:o}=this.props;o.off(y,this.handleStoryChange),o.off(i,this.addAction)}render(){let{actions:o=[]}=this.state,{active:s}=this.props,n={actions:o,onClear:this.clearActions};return s?k.createElement(u,{...n}):null}};C.register(d,t=>{C.addPanel(f,{title(){let[e,o]=K(0),s=()=>o(b=>b+1),n=()=>o(0);return q(()=>(t.on(i,s),t.on(x,n),()=>{t.off(i,s),t.off(x,n)})),`Actions${e===0?"":` (${e})`}`},type:z.PANEL,render:({active:e,key:o})=>F.createElement(a,{key:o,api:t,active:!!e}),paramKey:l})});
