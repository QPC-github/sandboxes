var u="actions",y="storybook/actions",$=`${y}/panel`,d=`${y}/action-event`,L="$___storybook.isCyclic";var c={depth:10,clearOnStoryChange:!0,limit:50},z=(n={})=>{Object.assign(c,n)};import D from"uuid-browser/v4";import{addons as j}from"@storybook/addons";var h=(n,o)=>{let t=Object.getPrototypeOf(n);return!t||o(t)?t:h(t,o)},x=n=>Boolean(typeof n=="object"&&n&&h(n,o=>/^Synthetic(?:Base)?Event$/.test(o.constructor.name))&&typeof n.persist=="function"),P=n=>{if(x(n)){let o=Object.create(n.constructor.prototype,Object.getOwnPropertyDescriptors(n));o.persist();let t=Object.getOwnPropertyDescriptor(o,"view"),e=t?.value;return typeof e=="object"&&e?.constructor.name==="Window"&&Object.defineProperty(o,"view",{...t,value:Object.create(e.constructor.prototype)}),o}return n};function A(n,o={}){let t={...c,...o},e=function(...r){let l=j.getChannel(),s=D(),a=5,f=r.map(P),b=r.length>1?f:f[0],w={id:s,count:0,data:{name:n,args:b},options:{...t,maxDepth:a+(t.depth||3),allowFunction:t.allowFunction||!1}};l.emit(d,w)};return e.isAction=!0,e}var m=(...n)=>{let o=c,t=n;t.length===1&&Array.isArray(t[0])&&([t]=t),t.length!==1&&typeof t[t.length-1]!="string"&&(o={...c,...t.pop()});let e=t[0];(t.length!==1||typeof e=="string")&&(e={},t.forEach(r=>{e[r]=r}));let i={};return Object.keys(e).forEach(r=>{i[r]=A(e[r],o)}),i};import _ from"global";import{useEffect as S,makeDecorator as I}from"@storybook/addons";import k from"util-deprecate";import{dedent as M}from"ts-dedent";var{document:g,Element:E}=_,N=/^(\S+)\s*(.*)$/,C=E!=null&&!E.prototype.matches,F=C?"msMatchesSelector":"matches",O=(n,o)=>{if(n[F](o))return!0;let t=n.parentElement;return t?O(t,o):!1},H=(n,...o)=>{let t=n(...o);return Object.entries(t).map(([e,i])=>{let[r,l,s]=e.match(N)||[];return{eventName:l,handler:a=>{(!s||O(a.target,s))&&i(a)}}})},v=k((n,...o)=>{let t=g&&g.getElementById("storybook-root");S(()=>{if(t!=null){let e=H(n,...o);return e.forEach(({eventName:i,handler:r})=>t.addEventListener(i,r)),()=>e.forEach(({eventName:i,handler:r})=>t.removeEventListener(i,r))}},[t,n,o])},M`
    withActions(options) is deprecated, please configure addon-actions using the addParameter api:

    addParameters({
      actions: {
        handles: options
      },
    });
  `),T=(n,o)=>{o&&v(n,o)},et=I({name:"withActions",parameterName:u,skipIfNoParametersOrOptions:!0,wrapper:(n,o,{parameters:t,options:e})=>(T(m,e),t&&t.handles&&v(m,...t.handles),n(o))});export{u as a,y as b,$ as c,d,L as e,c as f,z as g,A as h,m as i,et as j};
