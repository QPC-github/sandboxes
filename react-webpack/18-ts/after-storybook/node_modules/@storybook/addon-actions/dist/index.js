"use strict";var N=Object.create;var p=Object.defineProperty;var H=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var $=Object.getPrototypeOf,L=Object.prototype.hasOwnProperty;var Y=(o,e)=>{for(var t in e)p(o,t,{get:e[t],enumerable:!0})},b=(o,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of T(e))!L.call(o,r)&&r!==t&&p(o,r,{get:()=>e[r],enumerable:!(n=H(e,r))||n.enumerable});return o};var m=(o,e,t)=>(t=o!=null?N($(o)):{},b(e||!o||!o.__esModule?p(t,"default",{value:o,enumerable:!0}):t,o)),z=o=>b(p({},"__esModule",{value:!0}),o);var ot={};Y(ot,{ADDON_ID:()=>h,CYCLIC_KEY:()=>K,EVENT_ID:()=>g,PANEL_ID:()=>B,PARAM_KEY:()=>y,action:()=>A,actions:()=>f,config:()=>i,configureActions:()=>R,decorate:()=>G,decorateAction:()=>q,withActions:()=>tt});module.exports=z(ot);var y="actions",h="storybook/actions",B=`${h}/panel`,g=`${h}/action-event`,K="$___storybook.isCyclic";var v=m(require("uuid-browser/v4")),D=require("@storybook/addons");var i={depth:10,clearOnStoryChange:!0,limit:50},R=(o={})=>{Object.assign(i,o)};var j=(o,e)=>{let t=Object.getPrototypeOf(o);return!t||e(t)?t:j(t,e)},V=o=>Boolean(typeof o=="object"&&o&&j(o,e=>/^Synthetic(?:Base)?Event$/.test(e.constructor.name))&&typeof o.persist=="function"),W=o=>{if(V(o)){let e=Object.create(o.constructor.prototype,Object.getOwnPropertyDescriptors(o));e.persist();let t=Object.getOwnPropertyDescriptor(e,"view"),n=t==null?void 0:t.value;return typeof n=="object"&&(n==null?void 0:n.constructor.name)==="Window"&&Object.defineProperty(e,"view",{...t,value:Object.create(n.constructor.prototype)}),e}return o};function A(o,e={}){let t={...i,...e},n=function(...c){let u=D.addons.getChannel(),s=(0,v.default)(),a=5,x=c.map(W),C=c.length>1?x:x[0],M={id:s,count:0,data:{name:o,args:C},options:{...t,maxDepth:a+(t.depth||3),allowFunction:t.allowFunction||!1}};u.emit(g,M)};return n.isAction=!0,n}var f=(...o)=>{let e=i,t=o;t.length===1&&Array.isArray(t[0])&&([t]=t),t.length!==1&&typeof t[t.length-1]!="string"&&(e={...i,...t.pop()});let n=t[0];(t.length!==1||typeof n=="string")&&(n={},t.forEach(c=>{n[c]=c}));let r={};return Object.keys(n).forEach(c=>{r[c]=A(n[c],e)}),r};var d=m(require("util-deprecate")),O=require("ts-dedent"),q=o=>(0,d.default)(()=>{},O.dedent`
    decorateAction is no longer supported as of Storybook 6.0.
  `),E=(0,d.default)(()=>{},"decorate.* is no longer supported as of Storybook 6.0."),G=o=>(0,d.default)(()=>({action:E,actions:E,withActions:E}),O.dedent`
    decorate is deprecated, please configure addon-actions using the addParameter api:
      
      addParameters({
        actions: {
          handles: options
        },
      });
    `);var _=m(require("global")),l=require("@storybook/addons"),S=m(require("util-deprecate")),k=require("ts-dedent");var{document:w,Element:P}=_.default,J=/^(\S+)\s*(.*)$/,Q=P!=null&&!P.prototype.matches,U=Q?"msMatchesSelector":"matches",F=(o,e)=>{if(o[U](e))return!0;let t=o.parentElement;return t?F(t,e):!1},X=(o,...e)=>{let t=o(...e);return Object.entries(t).map(([n,r])=>{let[c,u,s]=n.match(J)||[];return{eventName:u,handler:a=>{(!s||F(a.target,s))&&r(a)}}})},I=(0,S.default)((o,...e)=>{let t=w&&w.getElementById("storybook-root");(0,l.useEffect)(()=>{if(t!=null){let n=X(o,...e);return n.forEach(({eventName:r,handler:c})=>t.addEventListener(r,c)),()=>n.forEach(({eventName:r,handler:c})=>t.removeEventListener(r,c))}},[t,o,e])},k.dedent`
    withActions(options) is deprecated, please configure addon-actions using the addParameter api:

    addParameters({
      actions: {
        handles: options
      },
    });
  `),Z=(o,e)=>{e&&I(o,e)},tt=(0,l.makeDecorator)({name:"withActions",parameterName:y,skipIfNoParametersOrOptions:!0,wrapper:(o,e,{parameters:t,options:n})=>(Z(f,n),t&&t.handles&&I(f,...t.handles),o(e))});module&&module.hot&&module.hot.decline&&module.hot.decline();0&&(module.exports={ADDON_ID,CYCLIC_KEY,EVENT_ID,PANEL_ID,PARAM_KEY,action,actions,config,configureActions,decorate,decorateAction,withActions});
