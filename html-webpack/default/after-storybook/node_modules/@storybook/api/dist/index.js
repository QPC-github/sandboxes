var Ft=Object.create;var z=Object.defineProperty;var Vt=Object.getOwnPropertyDescriptor;var jt=Object.getOwnPropertyNames;var Ht=Object.getPrototypeOf,Gt=Object.prototype.hasOwnProperty;var A=(e,t)=>{for(var o in t)z(e,o,{get:t[o],enumerable:!0})},He=(e,t,o,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of jt(t))!Gt.call(e,l)&&l!==o&&z(e,l,{get:()=>t[l],enumerable:!(a=Vt(t,l))||a.enumerable});return e};var P=(e,t,o)=>(o=e!=null?Ft(Ht(e)):{},He(t||!e||!e.__esModule?z(o,"default",{value:e,enumerable:!0}):o,e)),Kt=e=>He(z({},"__esModule",{value:!0}),e);var Do={};A(Do,{ActiveTabs:()=>Po,Consumer:()=>Dt,ManagerContext:()=>Y,Provider:()=>se,combineParameters:()=>be,merge:()=>T,useAddonState:()=>Ao,useArgTypes:()=>ko,useArgs:()=>wo,useChannel:()=>Lt,useGlobalTypes:()=>Co,useGlobals:()=>To,useParameter:()=>Ro,useSharedState:()=>Nt,useStoryPrepared:()=>Io,useStorybookApi:()=>M,useStorybookState:()=>Eo});module.exports=Kt(Do);var h=P(require("react")),kt=P(require("lodash/mergeWith")),w=require("@storybook/core-events");var Ge=require("react"),Ke=({api:e,state:t})=>(0,Ge.createContext)({api:e,state:t});var V=P(require("store2"));var J=require("telejson"),Ue=e=>{e.fn("set",function(t,o){return e.set(this._area,this._in(t),(0,J.stringify)(o,{maxDepth:50}))}),e.fn("get",function(t,o){let a=e.get(this._area,this._in(t));return a!==null?(0,J.parse)(a):o||a})};Ue(V.default._);var _e="@storybook/ui/store";function ce(e){return e.get(_e)||{}}function Ut(e,t){return e.set(_e,t)}function _t(e,t){let o=ce(e);return Ut(e,{...o,...t})}var K=class{constructor({setState:t,getState:o}){this.upstreamSetState=t,this.upstreamGetState=o}getInitialState(t){return{...t,...ce(V.default.local),...ce(V.default.session)}}getState(){return this.upstreamGetState()}async setState(t,o,a){let l,d;typeof o=="function"?(l=o,d=a):d=o;let{persistence:c="none"}=d||{},n={},p={};typeof t=="function"?n=r=>(p=t(r),p):(n=t,p=n);let i=await new Promise(r=>{this.upstreamSetState(n,r)});if(c!=="none"){let r=c==="session"?V.default.session:V.default.local;await _t(r,p)}return l&&l(i),i}};var $e=P(require("lodash/mergeWith")),Be=P(require("lodash/isEqual")),qe=require("@storybook/client-logger"),T=(e,t)=>(0,$e.default)({},e,t,(o,a)=>{if(Array.isArray(a)&&Array.isArray(o))return a.forEach(l=>{o.find(c=>c===l||(0,Be.default)(c,l))||o.push(l)}),o;if(Array.isArray(o))return qe.logger.log(["the types mismatch, picking",o]),o});var $t=(...e)=>e.reduce((t,o)=>T(t,o),{}),X=$t;var le={};A(le,{init:()=>Bt});var Bt=({provider:e,fullAPI:t})=>({api:e.renderPreview?{renderPreview:e.renderPreview}:{},state:{},init:()=>{e.handleAPI(t)}});var de={};A(de,{ensurePanel:()=>pe,init:()=>qt,types:()=>Qe});var Qe=(d=>(d.TAB="tab",d.PANEL="panel",d.TOOL="tool",d.PREVIEW="preview",d.NOTES_ELEMENT="notes-element",d))(Qe||{});function pe(e,t,o){let a=Object.keys(e);return a.indexOf(t)>=0?t:a.length?a[0]:o}var qt=({provider:e,store:t,fullAPI:o})=>{let a={getElements:l=>e.getElements(l),getPanels:()=>a.getElements("panel"),getStoryPanels:()=>{let l=a.getPanels(),{storyId:d}=t.getState(),c=o.getData(d);if(!l||!c||c.type!=="story")return l;let{parameters:n}=c,p={};return Object.entries(l).forEach(([i,r])=>{let{paramKey:s}=r;s&&n&&n[s]&&n[s].disable||(p[i]=r)}),p},getSelectedPanel:()=>{let{selectedPanel:l}=t.getState();return pe(a.getPanels(),l,l)},setSelectedPanel:l=>{t.setState({selectedPanel:l},{persistence:"session"})},setAddonState(l,d,c){let n,{addons:p}=t.getState();return typeof d=="function"?n=d(a.getAddonState(l)):n=d,t.setState({addons:{...p,[l]:n}},c).then(()=>a.getAddonState(l))},getAddonState:l=>t.getState().addons[l]};return{api:a,state:{selectedPanel:pe(a.getPanels(),t.getState().selectedPanel),addons:{}}}};var ue={};A(ue,{init:()=>Qt});var Z=require("@storybook/core-events"),Qt=({provider:e})=>{let t={getChannel:()=>e.channel,on:(o,a)=>(e.channel.addListener(o,a),()=>e.channel.removeListener(o,a)),off:(o,a)=>e.channel.removeListener(o,a),once:(o,a)=>e.channel.once(o,a),emit:(o,a,...l)=>{var d;((d=a==null?void 0:a.options)==null?void 0:d.target)&&a.options.target!=="storybook-preview-iframe"&&!a.options.target.startsWith("storybook-ref-")&&(a.options.target=a.options.target!=="storybook_internal"?`storybook-ref-${a.options.target}`:"storybook-preview-iframe"),e.channel.emit(o,a,...l)},collapseAll:()=>{e.channel.emit(Z.STORIES_COLLAPSE_ALL,{})},expandAll:()=>{t.emit(Z.STORIES_EXPAND_ALL)}};return{api:t,state:{}}};var ye={};A(ye,{init:()=>Wt});var Wt=({store:e})=>{let t={addNotification:a=>{t.clearNotification(a.id);let{notifications:l}=e.getState();e.setState({notifications:[...l,a]})},clearNotification:a=>{let{notifications:l}=e.getState();e.setState({notifications:l.filter(c=>c.id!==a)});let d=l.find(c=>c.id===a);d&&d.onClear&&d.onClear()}};return{api:t,state:{notifications:[]}}};var Se={};A(Se,{init:()=>Yt});var Yt=({store:e,navigate:t,fullAPI:o})=>{let a=()=>{let{path:d}=o.getUrlState();return!!(d||"").match(/^\/settings/)};return{state:{settings:{lastTrackedStoryId:null}},api:{closeSettings:()=>{let{settings:{lastTrackedStoryId:d}}=e.getState();d?o.selectStory(d):o.selectFirstStory()},changeSettingsTab:d=>{t(`/settings/${d}`)},isSettingsScreenActive:a,navigateToSettingsPage:async d=>{if(!a()){let{settings:c,storyId:n}=e.getState();await e.setState({settings:{...c,lastTrackedStoryId:n}})}t(d)}}}};var fe={};A(fe,{init:()=>Xt});var We=P(require("global")),Ye=P(require("memoizerific")),{RELEASE_NOTES_DATA:zt}=We.default,Jt=(0,Ye.default)(1)(()=>{try{return{...JSON.parse(zt)||{}}}catch{return{}}}),Xt=({store:e})=>{let t=Jt(),o=()=>{let{releaseNotesViewed:l}=e.getState();return l||[]};return{state:{releaseNotesViewed:[]},api:{releaseNotesVersion:()=>t.currentVersion,setDidViewReleaseNotes:()=>{let l=o();l.includes(t.currentVersion)||e.setState({releaseNotesViewed:[...l,t.currentVersion]},{persistence:"permanent"})},showReleaseNotesOnLaunch:()=>{if(!t.currentVersion)return!1;let d=o().includes(t.currentVersion);return t.showOnFirstLaunch&&!d}}}};var Ae={};A(Ae,{init:()=>lo});var pt=P(require("global")),N=require("@storybook/csf"),x=require("@storybook/core-events"),dt=P(require("util-deprecate")),ut=require("@storybook/client-logger");var ct=require("@storybook/client-logger");var Ee={};A(Ee,{defaultStoryMapper:()=>it,getSourceType:()=>xe,init:()=>ao});var ve=P(require("global")),at=require("ts-dedent");var ge=P(require("memoizerific")),ze=P(require("util-deprecate")),he=require("ts-dedent"),Je=P(require("lodash/mapValues")),Xe=P(require("lodash/countBy")),Ze=P(require("global")),ee=require("@storybook/csf");var{FEATURES:me}=Ze.default,Zt=(0,ze.default)(()=>{},he.dedent`
    The default hierarchy separators changed in Storybook 6.0.
    '|' and '.' will no longer create a hierarchy, but codemods are available.
    Read more about it in the migration guide: https://github.com/storybookjs/storybook/blob/master/MIGRATION.md
  `),et=({globalParameters:e,kindParameters:t,stories:o})=>(0,Je.default)(o,a=>({...a,parameters:be(e,t[a.kind],a.parameters)})),eo=/\s*\/\s*/,te=(e,{provider:t,docsOptions:o})=>U(to(e,{docsOptions:o}),{provider:t,docsOptions:o}),to=(e,{docsOptions:t})=>{let o=new Set,a=Object.entries(e).reduce((l,[d,c])=>{if(!c)return l;let{docsOnly:n,fileName:p,...i}=c.parameters,r={title:c.kind,id:d,name:c.name,importPath:p};if(n)l[d]={type:"docs",storiesImports:[],...r};else{if(!o.has(r.title)&&t.docsPage){let u=t.defaultName,f=(0,ee.toId)(c.componentId||r.title,u);o.add(r.title),l[f]={type:"docs",storiesImports:[],...r,id:f,name:u}}let{argTypes:s,args:y,initialArgs:S}=c;l[d]={type:"story",...r,parameters:i,argTypes:s,args:y,initialArgs:S}}return l},{});return{v:4,entries:a}},oo=e=>{let t=(0,Xe.default)(Object.values(e.stories),"title");return{v:4,entries:Object.values(e.stories).reduce((o,a)=>{var d;let l="story";return(((d=a.parameters)==null?void 0:d.docsOnly)||a.name==="Page"&&t[a.title]===1)&&(l="docs"),o[a.id]={type:l,...l==="docs"&&{storiesImports:[]},...a},o},{})}},U=(e,{provider:t,docsOptions:o})=>{if(!e.v)throw new Error("Composition: Missing stories.json version");let a=e.v===4?e:oo(e),l=Object.values(a.entries),{sidebar:d={}}=t.getConfig(),{showRoots:c,collapsedRoots:n=[],renderLabel:p}=d,i=l.some(({title:u})=>u.match(/\.|\|/)),r=typeof c<"u";i&&!r&&(me==null?void 0:me.warnOnLegacyHierarchySeparator)&&Zt();let s=Object.values(l).reduce((u,f)=>{if(o.docsMode&&f.type!=="docs")return u;let{title:m}=f,g=m.trim().split(eo),v=(!r||c)&&g.length>1?[g.shift()]:[],E=[...v,...g],I=E.reduce((b,R,L)=>{let ae=L>0&&b[L-1],ie=(0,ee.sanitize)(ae?`${ae}-${R}`:R);if(ae===ie)throw new Error(he.dedent`
          Invalid part '${R}', leading to id === parentId ('${ie}'), inside title '${m}'
          
          Did you create a path that uses the separator char accidentally, such as 'Vue <docs/>' where '/' is a separator char? See https://github.com/storybookjs/storybook/issues/6128
          `);return b.push(ie),b},[]);return I.forEach((b,R)=>{let L=I[R+1]||f.id;v.length&&R===0?u[b]=T(u[b]||{},{type:"root",id:b,name:E[R],depth:R,renderLabel:p,startCollapsed:n.includes(b),children:[L],isRoot:!0,isComponent:!1,isLeaf:!1}):(!u[b]||u[b].type==="component")&&R===I.length-1?u[b]=T(u[b]||{},{type:"component",id:b,name:E[R],parent:I[R-1],depth:R,renderLabel:p,...L&&{children:[L]},isRoot:!1,isComponent:!0,isLeaf:!1}):u[b]=T(u[b]||{},{type:"group",id:b,name:E[R],parent:I[R-1],depth:R,renderLabel:p,...L&&{children:[L]},isRoot:!1,isComponent:!1,isLeaf:!1})}),u[f.id]={type:"story",...f,depth:I.length,parent:I[I.length-1],renderLabel:p,...f.type!=="docs"&&{prepared:!!f.parameters},kind:f.title,isRoot:!1,isComponent:!1,isLeaf:!0},u},{});function y(u,f){return u[f.id]||(u[f.id]=f,(f.type==="root"||f.type==="group"||f.type==="component")&&f.children.forEach(m=>y(u,s[m]))),u}let S=Object.values(s).filter(u=>u.type!=="root"&&!u.parent).reduce(y,{});return Object.values(s).filter(u=>u.type==="root").reduce(y,S)},tt=(e,t)=>t?Object.fromEntries(Object.entries(e).map(([o,a])=>{let l=t[o];return a.type==="story"&&(l==null?void 0:l.type)==="story"&&l.prepared?[o,{...l,...a,prepared:!0}]:[o,a]})):e,ot=(0,ge.default)(1)(e=>Object.entries(e).reduce((t,o)=>{let a=o[1];return a.type==="component"&&t.push([...a.children]),t},[])),rt=(0,ge.default)(1)(e=>Object.keys(e).filter(t=>["story","docs"].includes(e[t].type)));var{location:ro,fetch:nt}=ve.default,st=/(\/((?:[^\/]+?)\.[^\/]+?)|\/)$/,xe=(e,t)=>{let{origin:o,pathname:a}=ro,{origin:l,pathname:d}=new URL(e),c=`${o+a}`.replace(st,""),n=`${l+d}`.replace(st,"");return c===n?["local",n]:t||e?["external",n]:[null,null]},it=(e,t)=>({...t,kind:t.kind.replace("|","/")}),no=(e,t)=>Object.entries(e).reduce((o,[a,l])=>({...o,[a]:{...l,refId:t.id}}),{});async function Pe(e){if(!e)return{};try{let t=await e;if(!t.ok)return{};let o=await t.json();return o.entries||o.stories?{storyIndex:o}:o}catch(t){return{error:t}}}var so=(e,t,o)=>{let{storyMapper:a}=o;return a?Object.entries(e).reduce((l,[d,c])=>({...l,[d]:a(t,c)}),{}):e},ao=({store:e,provider:t,singleStory:o,docsOptions:a={}},{runCheck:l=!0}={})=>{let d={findRef:p=>{let i=d.getRefs();return Object.values(i).find(({url:r})=>r.match(p))},changeRefVersion:(p,i)=>{let{versions:r,title:s}=d.getRefs()[p],y={id:p,url:i,versions:r,title:s,stories:{}};d.checkRef(y)},changeRefState:(p,i)=>{let{[p]:r,...s}=d.getRefs();s[p]={...r,ready:i},e.setState({refs:s})},checkRef:async p=>{let{id:i,url:r,version:s,type:y}=p,S=y==="server-checked",u={},f=s?`?version=${s}`:"",m=S?"omit":"include",[g,v]=await Promise.all(["index.json","stories.json"].map(async I=>nt(`${r}/${I}${f}`,{headers:{Accept:"application/json"},credentials:m})));if(g.ok||v.ok){let[I,b]=await Promise.all([g.ok?Pe(g):Pe(v),Pe(nt(`${r}/metadata.json${f}`,{headers:{Accept:"application/json"},credentials:m,cache:"no-cache"}).catch(()=>!1))]);Object.assign(u,{...I,...b})}else S||(u.error={message:at.dedent`
            Error: Loading of ref failed
              at fetch (lib/api/src/modules/refs.ts)

            URL: ${r}

            We weren't able to load the above URL,
            it's possible a CORS error happened.

            Please check your dev-tools network tab.
          `});let E=p.versions&&Object.keys(p.versions).length?p.versions:u.versions;await d.setRef(i,{id:i,url:r,...u,...E?{versions:E}:{},type:u.storyIndex?"lazy":"auto-inject"})},getRefs:()=>{let{refs:p={}}=e.getState();return p},setRef:(p,{storyIndex:i,setStoriesData:r,...s},y=!1)=>{if(o)return;let{storyMapper:S=it}=t.getConfig(),u=d.getRefs()[p],f;r?f=te(so(r,u,{storyMapper:S}),{provider:t,docsOptions:a}):i&&(f=U(i,{provider:t,docsOptions:a})),f&&(f=no(f,u)),d.updateRef(p,{stories:f,...s,ready:y})},updateRef:(p,i)=>{let{[p]:r,...s}=d.getRefs();s[p]={...r,...i};let y=Object.keys(n).reduce((S,u)=>(S[u]=s[u],S),{});e.setState({refs:y})}},c=!o&&ve.default.REFS||{},n=c;return l&&Object.entries(c).forEach(([p,i])=>{d.checkRef({...i,stories:{}})}),{api:d,state:{refs:n}}};var O=(e,t)=>{let{source:o,refId:a,type:l}=e,[d,c]=xe(o,a),n=a&&t.getRefs()[a]?t.getRefs()[a]:t.findRef(c),p={source:o,sourceType:d,sourceLocation:c,refId:a,ref:n,type:l};switch(!0){case typeof a=="string":case d==="local":case d==="external":return p;default:return ct.logger.warn(`Received a ${l} frame that was not configured as a ref`),null}};var{FEATURES:Ie,fetch:io}=pt.default,co="./index.json",lt=["enableShortcuts","theme","showRoots"].reduce((e,t)=>(e[t]=(0,dt.default)(()=>{},`parameters.options.${t} is deprecated and will be removed in Storybook 7.0.
To change this setting, use \`addons.setConfig\`. See https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-immutable-options-parameters
  `),e),{});function Re(e){!e||Object.keys(e).forEach(t=>{lt[t]&&lt[t]()})}var lo=({fullAPI:e,store:t,navigate:o,provider:a,storyId:l,viewMode:d,docsOptions:c={}})=>{let n={storyId:N.toId,getData:(i,r)=>{let s=n.resolveStory(i,r);if((s==null?void 0:s.type)==="story"||(s==null?void 0:s.type)==="docs")return s},isPrepared:(i,r)=>{let s=n.getData(i,r);return s.type==="story"?s.prepared:!0},resolveStory:(i,r)=>{let{refs:s,storiesHash:y}=t.getState();return r?s[r].stories?s[r].stories[i]:void 0:y?y[i]:void 0},getCurrentStoryData:()=>{let{storyId:i,refId:r}=t.getState();return n.getData(i,r)},getParameters:(i,r)=>{let{storyId:s,refId:y}=typeof i=="string"?{storyId:i,refId:void 0}:i,S=n.getData(s,y);if((S==null?void 0:S.type)==="story"){let{parameters:u}=S;if(u)return r?u[r]:u}return null},getCurrentParameter:i=>{let{storyId:r,refId:s}=t.getState();return n.getParameters({storyId:r,refId:s},i)||void 0},jumpToComponent:i=>{let{storiesHash:r,storyId:s,refs:y,refId:S}=t.getState();if(!n.getData(s,S))return;let f=S?y[S].stories||{}:r,m=n.findSiblingStoryId(s,f,i,!0);m&&n.selectStory(m,void 0,{ref:S})},jumpToStory:i=>{let{storiesHash:r,storyId:s,refs:y,refId:S}=t.getState(),u=n.getData(s,S);if(!u)return;let f=u.refId?y[u.refId].stories:r,m=n.findSiblingStoryId(s,f,i,!1);m&&n.selectStory(m,void 0,{ref:S})},setStories:async(i,r)=>{let s=te(i,{provider:a,docsOptions:c});await t.setState({storiesHash:s,storiesConfigured:!0,storiesFailed:r})},selectFirstStory:()=>{let{storiesHash:i}=t.getState(),r=Object.keys(i).find(s=>i[s].type==="story");if(r){n.selectStory(r);return}o("/")},selectStory:(i=void 0,r=void 0,s={})=>{let{ref:y}=s,{storyId:S,storiesHash:u,refs:f}=t.getState(),m=y?f[y].stories:u,g=S==null?void 0:S.split("--",2)[0];if(r)if(i){let v=y?`${y}_${(0,N.toId)(i,r)}`:(0,N.toId)(i,r);if(m[v])n.selectStory(v,void 0,s);else{let E=m[(0,N.sanitize)(i)];if((E==null?void 0:E.type)==="component"){let I=E.children.find(b=>m[b].name===r);I&&n.selectStory(I,void 0,s)}}}else{let v=(0,N.toId)(g,r);n.selectStory(v,void 0,s)}else{let v=i?m[i]||m[(0,N.sanitize)(i)]:m[g];if(!v)throw new Error(`Unknown id or title: '${i}'`);let E=n.findLeafEntry(m,v.id),I=E.refId?`${E.refId}_${E.id}`:E.id;o(`/${E.type}/${I}`)}},findLeafEntry(i,r){let s=i[r];if(s.type==="docs"||s.type==="story")return s;let y=s.children[0];return n.findLeafEntry(i,y)},findLeafStoryId(i,r){var s;return(s=n.findLeafEntry(i,r))==null?void 0:s.id},findSiblingStoryId(i,r,s,y){if(y){let f=ot(r),m=f.findIndex(g=>g.includes(i));return m===f.length-1&&s>0||m===0&&s<0?void 0:f[m+s]?f[m+s][0]:void 0}let S=rt(r),u=S.indexOf(i);if(!(u===S.length-1&&s>0)&&!(u===0&&s<0))return S[u+s]},updateStoryArgs:(i,r)=>{let{id:s,refId:y}=i;e.emit(x.UPDATE_STORY_ARGS,{storyId:s,updatedArgs:r,options:{target:y}})},resetStoryArgs:(i,r)=>{let{id:s,refId:y}=i;e.emit(x.RESET_STORY_ARGS,{storyId:s,argNames:r,options:{target:y}})},fetchStoryList:async()=>{try{let i=await io(co);if(i.status!==200)throw new Error(await i.text());let r=await i.json();if(r.v<3){ut.logger.warn(`Skipping story index with version v${r.v}, awaiting SET_STORIES.`);return}await e.setStoryList(r)}catch(i){t.setState({storiesConfigured:!0,storiesFailed:i})}},setStoryList:async i=>{let r=U(i,{provider:a,docsOptions:c}),s=t.getState().storiesHash;await t.setState({storiesHash:tt(r,s),storiesConfigured:!0,storiesFailed:null})},updateStory:async(i,r,s)=>{if(s){let{id:y,stories:S}=s;S[i]={...S[i],...r},await e.updateRef(y,{stories:S})}else{let{storiesHash:y}=t.getState();y[i]={...y[i],...r},await t.setState({storiesHash:y})}}};return{api:n,state:{storiesHash:{},storyId:l,viewMode:d,storiesConfigured:!1,hasCalledSetOptions:!1},init:async()=>{var i;e.on(x.STORY_SPECIFIED,function({storyId:s,viewMode:y}){let{sourceType:S}=O(this,e);if(!e.isSettingsScreenActive()&&S==="local"){let u=t.getState();(u.storyId!==s||u.viewMode!==y)&&o(`/${y}/${s}`)}}),e.on(x.STORY_CHANGED,function(){let{sourceType:s}=O(this,e);if(s==="local"){let y=e.getCurrentParameter("options");y&&(Re(y),e.setOptions(y))}}),e.on(x.STORY_PREPARED,function({id:s,...y}){let{ref:S,sourceType:u}=O(this,e);if(e.updateStory(s,{...y,prepared:!0},S),S)e.updateRef(S.id,{ready:!0});else if(!t.getState().hasCalledSetOptions){let{options:f}=y.parameters;Re(f),e.setOptions(f),t.setState({hasCalledSetOptions:!0})}if(u==="local"){let{storyId:f,storiesHash:m,refId:g}=t.getState(),v=Array.from(new Set([n.findSiblingStoryId(f,m,1,!0),n.findSiblingStoryId(f,m,-1,!0)])).filter(Boolean);e.emit(x.PRELOAD_ENTRIES,{ids:v,options:{target:g}})}}),e.on(x.SET_STORIES,function(s){let{ref:y}=O(this,e),S=s.v?et(s):s.stories;if(y)e.setRef(y.id,{...y,setStoriesData:S},!0);else{if(!s.v)throw new Error("Unexpected legacy SET_STORIES event from local source");e.setStories(S);let u=e.getCurrentParameter("options");Re(u),e.setOptions(u)}}),e.on(x.SELECT_STORY,function({kind:s,story:y,storyId:S,...u}){let{ref:f}=O(this,e);f?e.selectStory(S||s,y,{...u,ref:f.id}):e.selectStory(S||s,y,u)}),e.on(x.STORY_ARGS_UPDATED,function({storyId:s,args:y}){let{ref:S}=O(this,e);e.updateStory(s,{args:y},S)}),e.on(x.CONFIG_ERROR,function(s){t.setState({storiesConfigured:!0,storiesFailed:s})}),Ie!=null&&Ie.storyStoreV7&&((i=a.serverChannel)==null||i.on(x.STORY_INDEX_INVALIDATED,()=>e.fetchStoryList()),await e.fetchStoryList())}}};var oe={};A(oe,{ActiveTabs:()=>ht,focusableUIElements:()=>$,init:()=>uo});var yt=P(require("global")),j=P(require("lodash/pick")),_=require("dequal"),St=require("@storybook/theming/create"),ft=require("@storybook/core-events"),mt=require("@storybook/client-logger"),gt=require("ts-dedent");var{document:po}=yt.default,ht={SIDEBAR:"sidebar",CANVAS:"canvas",ADDONS:"addons"},F={ui:{enableShortcuts:!0},layout:{initialActive:ht.CANVAS,showToolbar:!0,isFullscreen:!1,showPanel:!0,showNav:!0,panelPosition:"bottom",showTabs:!0},selectedPanel:void 0,theme:(0,St.create)()},$={storySearchField:"storybook-explorer-searchfield",storyListMenu:"storybook-explorer-menu",storyPanelRoot:"storybook-panel-root"},uo=({store:e,provider:t,singleStory:o,fullAPI:a})=>{let l={toggleFullscreen(c){return e.setState(n=>{let{showNav:p}=n.layout,i=typeof c=="boolean"?c:!n.layout.isFullscreen,r=p===!1&&i===!1;return{layout:{...n.layout,isFullscreen:i,showNav:!o&&r?!0:p}}},{persistence:"session"})},togglePanel(c){return e.setState(n=>{let{showNav:p,isFullscreen:i}=n.layout,r=typeof c<"u"?c:!n.layout.showPanel,s=p===!1&&r===!1;return{layout:{...n.layout,showPanel:r,isFullscreen:s?!0:i}}},{persistence:"session"})},togglePanelPosition(c){return typeof c<"u"?e.setState(n=>({layout:{...n.layout,panelPosition:c}}),{persistence:"permanent"}):e.setState(n=>({layout:{...n.layout,panelPosition:n.layout.panelPosition==="right"?"bottom":"right"}}),{persistence:"permanent"})},toggleNav(c){return e.setState(n=>{if(o)return{layout:n.layout};let{showPanel:p,isFullscreen:i}=n.layout,r=typeof c<"u"?c:!n.layout.showNav,s=p===!1&&r===!1;return{layout:{...n.layout,showNav:r,isFullscreen:s?!0:!r&&i}}},{persistence:"session"})},toggleToolbar(c){return e.setState(n=>{let p=typeof c<"u"?c:!n.layout.showToolbar;return{layout:{...n.layout,showToolbar:p}}},{persistence:"session"})},resetLayout(){return e.setState(c=>({layout:{...c.layout,showNav:!1,showPanel:!1,isFullscreen:!1}}),{persistence:"session"})},focusOnUIElement(c,n){if(!c)return;let p=po.getElementById(c);p&&(p.focus(),n&&p.select())},getInitialOptions(){var i;let{theme:c,selectedPanel:n,...p}=t.getConfig();return((i=p.layout)==null?void 0:i.isToolshown)!==void 0&&(mt.once.warn(gt.dedent`
          The "isToolshown" option is deprecated. Please use "showToolbar" instead.

          See https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#renamed-istoolshown-to-showtoolbar
        `),p.layout.showToolbar=p.layout.isToolshown),{...F,layout:{...F.layout,...(0,j.default)(p,Object.keys(F.layout)),...o&&{showNav:!1}},ui:{...F.ui,...(0,j.default)(p,Object.keys(F.ui))},selectedPanel:n||F.selectedPanel,theme:c||F.theme}},setOptions:c=>{let{layout:n,ui:p,selectedPanel:i,theme:r}=e.getState();if(c){let s={...n,...(0,j.default)(c,Object.keys(n)),...o&&{showNav:!1}},y={...p,...(0,j.default)(c,Object.keys(p))},S={...r,...c.theme},u={};(0,_.dequal)(p,y)||(u.ui=y),(0,_.dequal)(n,s)||(u.layout=s),c.selectedPanel&&!(0,_.dequal)(i,c.selectedPanel)&&(u.selectedPanel=c.selectedPanel),Object.keys(u).length&&e.setState(u,{persistence:"permanent"}),(0,_.dequal)(r,S)||e.setState({theme:S})}}},d=(0,j.default)(e.getState(),"layout","ui","selectedPanel");return{api:l,state:T(l.getInitialOptions(),d),init:()=>{l.setOptions(T(l.getInitialOptions(),d)),a.on(ft.SET_CONFIG,()=>{l.setOptions(T(l.getInitialOptions(),d))})}}};var Oe={};A(Oe,{controlOrMetaKey:()=>re,defaultShortcuts:()=>H,init:()=>So,isMacLike:()=>Rt,keys:()=>Ce});var Et=P(require("global")),It=require("@storybook/core-events");var bt=P(require("global")),{navigator:nr}=bt.default;var Pt=e=>{if(["Meta","Alt","Control","Shift"].includes(e.key))return null;let t=[];return e.altKey&&t.push("alt"),e.ctrlKey&&t.push("control"),e.metaKey&&t.push("meta"),e.shiftKey&&t.push("shift"),e.key&&e.key.length===1&&e.key!==" "&&t.push(e.key.toUpperCase()),e.key===" "&&t.push("space"),e.key==="Escape"&&t.push("escape"),e.key==="ArrowRight"&&t.push("ArrowRight"),e.key==="ArrowDown"&&t.push("ArrowDown"),e.key==="ArrowUp"&&t.push("ArrowUp"),e.key==="ArrowLeft"&&t.push("ArrowLeft"),t.length>0?t:null},vt=(e,t)=>!e||!t||(e.join("")==="shift/"&&e.shift(),e.length!==t.length)?!1:!e.find((o,a)=>o!==t[a]);var{navigator:we,document:xt}=Et.default,Rt=()=>we&&we.platform?!!we.platform.match(/(Mac|iPhone|iPod|iPad)/i):!1,re=()=>Rt()?"meta":"control";function Ce(e){return Object.keys(e)}var H=Object.freeze({fullScreen:["F"],togglePanel:["A"],panelPosition:["D"],toggleNav:["S"],toolbar:["T"],search:["/"],focusNav:["1"],focusIframe:["2"],focusPanel:["3"],prevComponent:["alt","ArrowUp"],nextComponent:["alt","ArrowDown"],prevStory:["alt","ArrowLeft"],nextStory:["alt","ArrowRight"],shortcutsPage:[re(),"shift",","],aboutPage:[","],escape:["escape"],collapseAll:[re(),"shift","ArrowUp"],expandAll:[re(),"shift","ArrowDown"]}),Te={};function yo(e){let t=e.target;return/input|textarea/i.test(t.tagName)||t.getAttribute("contenteditable")!==null}var So=({store:e,fullAPI:t})=>{let o={getShortcutKeys(){return e.getState().shortcuts},getDefaultShortcuts(){return{...H,...o.getAddonsShortcutDefaults()}},getAddonsShortcuts(){return Te},getAddonsShortcutLabels(){let c={};return Object.entries(o.getAddonsShortcuts()).forEach(([n,{label:p}])=>{c[n]=p}),c},getAddonsShortcutDefaults(){let c={};return Object.entries(o.getAddonsShortcuts()).forEach(([n,{defaultShortcut:p}])=>{c[n]=p}),c},async setShortcuts(c){return await e.setState({shortcuts:c},{persistence:"permanent"}),c},async restoreAllDefaultShortcuts(){return o.setShortcuts(o.getDefaultShortcuts())},async setShortcut(c,n){let p=o.getShortcutKeys();return await o.setShortcuts({...p,[c]:n}),n},async setAddonShortcut(c,n){let p=o.getShortcutKeys();return await o.setShortcuts({...p,[`${c}-${n.actionName}`]:n.defaultShortcut}),Te[`${c}-${n.actionName}`]=n,n},async restoreDefaultShortcut(c){let n=o.getDefaultShortcuts()[c];return o.setShortcut(c,n)},handleKeydownEvent(c){let n=Pt(c),p=o.getShortcutKeys(),r=Ce(p).find(s=>vt(n,p[s]));r&&(c!=null&&c.preventDefault&&c.preventDefault(),o.handleShortcutFeature(r))},handleShortcutFeature(c){let{layout:{isFullscreen:n,showNav:p,showPanel:i},ui:{enableShortcuts:r}}=e.getState();if(!!r)switch(c){case"escape":{n?t.toggleFullscreen():p||t.toggleNav();break}case"focusNav":{n&&t.toggleFullscreen(),p||t.toggleNav(),t.focusOnUIElement($.storyListMenu);break}case"search":{n&&t.toggleFullscreen(),p||t.toggleNav(),setTimeout(()=>{t.focusOnUIElement($.storySearchField,!0)},0);break}case"focusIframe":{let s=xt.getElementById("storybook-preview-iframe");if(s)try{s.contentWindow.focus()}catch{}break}case"focusPanel":{n&&t.toggleFullscreen(),i||t.togglePanel(),t.focusOnUIElement($.storyPanelRoot);break}case"nextStory":{t.jumpToStory(1);break}case"prevStory":{t.jumpToStory(-1);break}case"nextComponent":{t.jumpToComponent(1);break}case"prevComponent":{t.jumpToComponent(-1);break}case"fullScreen":{t.toggleFullscreen();break}case"togglePanel":{n&&(t.toggleFullscreen(),t.resetLayout()),t.togglePanel();break}case"toggleNav":{n&&(t.toggleFullscreen(),t.resetLayout()),t.toggleNav();break}case"toolbar":{t.toggleToolbar();break}case"panelPosition":{n&&t.toggleFullscreen(),i||t.togglePanel(),t.togglePanelPosition();break}case"aboutPage":{t.navigate("/settings/about");break}case"shortcutsPage":{t.navigate("/settings/shortcuts");break}case"collapseAll":{t.collapseAll();break}case"expandAll":{t.expandAll();break}default:Te[c].action();break}}},{shortcuts:a=H}=e.getState(),l={shortcuts:Ce(H).reduce((c,n)=>({...c,[n]:a[n]||H[n]}),H)};return{api:o,state:l,init:()=>{xt.addEventListener("keydown",c=>{yo(c)||t.handleKeydownEvent(c)}),t.on(It.PREVIEW_KEYDOWN,c=>{t.handleKeydownEvent(c.event)})}}};var Le={};A(Le,{init:()=>mo});var q=require("@storybook/client-logger"),k=require("@storybook/core-events"),W=require("@storybook/router"),ne=require("@storybook/csf"),Me=require("dequal"),At=P(require("global")),Q=require("ts-dedent"),{window:ke}=At.default,B=e=>{if(e==="true"||e==="1")return!0;if(e==="false"||e==="0")return!1},De,fo=({state:{location:e,path:t,viewMode:o,storyId:a},singleStory:l})=>{let{full:d,panel:c,nav:n,shortcuts:p,addonPanel:i,tabs:r,addons:s,panelRight:y,stories:S,selectedKind:u,selectedStory:f,path:m,...g}=(0,W.queryFromLocation)(e),v={isFullscreen:B(d),showNav:!l&&B(n),showPanel:B(c),panelPosition:["right","bottom"].includes(c)?c:void 0,showTabs:B(r)},E={enableShortcuts:B(p)},I=i||void 0;s==="0"&&(q.once.warn(Q.dedent`
      The 'addons' query param is deprecated and will be removed in Storybook 7.0. Use 'panel=false' instead.

      More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-layout-url-params
    `),v.showPanel=!1),y==="1"&&(q.once.warn(Q.dedent`
      The 'panelRight' query param is deprecated and will be removed in Storybook 7.0. Use 'panel=right' instead.

      More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-layout-url-params
    `),v.panelPosition="right"),S==="0"&&(q.once.warn(Q.dedent`
      The 'stories' query param is deprecated and will be removed in Storybook 7.0. Use 'nav=false' instead.

      More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-layout-url-params
    `),v.showNav=!1);let b=a;!b&&u&&(q.once.warn(Q.dedent`
      The 'selectedKind' and 'selectedStory' query params are deprecated and will be removed in Storybook 7.0. Use 'path' instead.

      More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#deprecated-layout-url-params
    `),b=f?(0,ne.toId)(u,f):(0,ne.sanitize)(u));let R=(0,Me.dequal)(De,g)?De:g;return De=R,{viewMode:o,layout:v,ui:E,selectedPanel:I,location:e,path:t,customQueryParams:R,storyId:b}},mo=({store:e,navigate:t,state:o,provider:a,fullAPI:l,...d})=>{let c=(i,r={},s={})=>{let y=Object.entries(r).filter(([,u])=>u).sort(([u],[f])=>u<f?-1:1).map(([u,f])=>`${u}=${f}`),S=[i,...y].join("&");return t(S,s)},n={getQueryParam(i){let{customQueryParams:r}=e.getState();return r?r[i]:void 0},getUrlState(){let{path:i,customQueryParams:r,storyId:s,url:y,viewMode:S}=e.getState();return{path:i,queryParams:r,storyId:s,url:y,viewMode:S}},setQueryParams(i){let{customQueryParams:r}=e.getState(),s={},y={...r,...Object.entries(i).reduce((S,[u,f])=>(f!==null&&(S[u]=f),S),s)};(0,Me.dequal)(r,y)||(e.setState({customQueryParams:y}),l.emit(k.UPDATE_QUERY_PARAMS,y))},navigateUrl(i,r){t(i,{...r,plain:!0})}},p=()=>{let i=()=>{let{path:s,queryParams:y,viewMode:S}=l.getUrlState();if(S!=="story")return;let u=l.getCurrentStoryData();if((u==null?void 0:u.type)!=="story")return;let{args:f,initialArgs:m}=u,g=(0,W.buildArgsParam)(m,f);c(s,{...y,args:g},{replace:!0}),n.setQueryParams({args:g})};l.on(k.SET_CURRENT_STORY,()=>i());let r;l.on(k.STORY_ARGS_UPDATED,()=>{"requestIdleCallback"in ke?(r&&ke.cancelIdleCallback(r),r=ke.requestIdleCallback(i,{timeout:1e3})):(r&&clearTimeout(r),setTimeout(i,100))}),l.on(k.GLOBALS_UPDATED,({globals:s,initialGlobals:y})=>{let{path:S,queryParams:u}=l.getUrlState(),f=(0,W.buildArgsParam)(y,s);c(S,{...u,globals:f},{replace:!0}),n.setQueryParams({globals:f})}),l.on(k.NAVIGATE_URL,(s,y)=>{l.navigateUrl(s,y)}),l.showReleaseNotesOnLaunch()&&t("/settings/release-notes")};return{api:n,state:fo({store:e,navigate:t,state:o,provider:a,fullAPI:l,...d}),init:p}};var Ne={};A(Ne,{init:()=>ho});var Ct=P(require("global")),C=P(require("semver")),Ot=P(require("memoizerific"));var wt="7.0.0-alpha.37";var{VERSIONCHECK:go}=Ct.default,Tt=(0,Ot.default)(1)(()=>{try{return{...JSON.parse(go).data||{}}}catch{return{}}}),ho=({store:e,mode:t,fullAPI:o})=>{let{dismissedVersionNotification:a}=e.getState(),l={versions:{current:{version:wt},...Tt()},dismissedVersionNotification:a},d={getCurrentVersion:()=>{let{versions:{current:n}}=e.getState();return n},getLatestVersion:()=>{let{versions:{latest:n,next:p,current:i}}=e.getState();return i&&C.default.prerelease(i.version)&&p?n&&C.default.gt(n.version,p.version)?n:p:n},versionUpdateAvailable:()=>{let n=d.getLatestVersion(),p=d.getCurrentVersion();if(n){if(!n.version||!p.version)return!0;let r=!!C.default.prerelease(p.version)?`${C.default.major(p.version)}.${C.default.minor(p.version)}.${C.default.patch(p.version)}`:p.version,s=C.default.diff(r,n.version);return C.default.gt(n.version,r)&&s!=="patch"&&!s.includes("pre")}return!1}};return{init:async()=>{let{versions:n={}}=e.getState(),{latest:p,next:i}=Tt();if(await e.setState({versions:{...n,latest:p,next:i}}),d.versionUpdateAvailable()){let r=d.getLatestVersion().version,s=C.default.diff(n.current.version,n.latest.version);r!==a&&s!=="patch"&&!C.default.prerelease(r)&&t!=="production"&&o.addNotification({id:"update",link:"/settings/about",content:{headline:`Storybook ${r} is available!`,subHeadline:`Your current version is: ${n.current.version}`},icon:{name:"book"},onClear(){e.setState({dismissedVersionNotification:r},{persistence:"permanent"})}})}},state:l,api:d}};var je={};A(je,{init:()=>bo});var G=require("@storybook/core-events"),Fe=require("@storybook/client-logger"),Ve=require("dequal");var bo=({store:e,fullAPI:t})=>{let o={getGlobals(){return e.getState().globals},getGlobalTypes(){return e.getState().globalTypes},updateGlobals(c){t.emit(G.UPDATE_GLOBALS,{globals:c,options:{target:"storybook-preview-iframe"}})}},a={globals:{},globalTypes:{}},l=c=>{var p;let n=(p=e.getState())==null?void 0:p.globals;(0,Ve.dequal)(c,n)||e.setState({globals:c})};return{api:o,state:a,init:()=>{t.on(G.GLOBALS_UPDATED,function({globals:n}){let{ref:p}=O(this,t);p?Fe.logger.warn("received a GLOBALS_UPDATED from a non-local ref. This is not currently supported."):l(n)}),t.on(G.SET_GLOBALS,function({globals:n,globalTypes:p}){var s;let{ref:i}=O(this,t),r=(s=e.getState())==null?void 0:s.globals;i?Object.keys(n).length>0&&Fe.logger.warn("received globals from a non-local ref. This is not currently supported."):e.setState({globals:n,globalTypes:p}),r&&Object.keys(r).length!==0&&!(0,Ve.dequal)(n,r)&&o.updateGlobals(r)})}}};var{ActiveTabs:Po}=oe;var Y=Ke({api:void 0,state:X({})}),be=(...e)=>(0,kt.default)({},...e,(t,o)=>{if(Array.isArray(o))return o}),se=class extends h.Component{constructor(o){super(o);this.api={};this.initModules=()=>{this.modules.forEach(o=>{"init"in o&&o.init()})};let{location:a,path:l,refId:d,viewMode:c=o.docsOptions.docsMode?"docs":"story",singleStory:n,storyId:p,docsOptions:i,navigate:r}=o,s=new K({getState:()=>this.state,setState:(g,v)=>this.setState(g,v)}),y={location:a,path:l,viewMode:c,singleStory:n,storyId:p,refId:d},S={docsOptions:i};this.state=s.getInitialState(X({...y,...S}));let u={navigate:r,store:s,provider:o.provider};this.modules=[le,ue,de,oe,ye,Se,fe,Oe,Ae,Ee,je,Le,Ne].map(g=>g.init({...y,...S,...u,state:this.state,fullAPI:this.api}));let f=X(this.state,...this.modules.map(g=>g.state)),m=Object.assign(this.api,{navigate:r},...this.modules.map(g=>g.api));this.state=f,this.api=m}static getDerivedStateFromProps(o,a){return a.path!==o.path?{...a,location:o.location,path:o.path,refId:o.refId,viewMode:o.viewMode,storyId:o.storyId}:null}shouldComponentUpdate(o,a){let l=this.state,d=this.props;return l!==a||d.path!==o.path}render(){let{children:o}=this.props,a={state:this.state,api:this.api};return h.default.createElement(vo,{effect:this.initModules},h.default.createElement(Y.Provider,{value:a},h.default.createElement(Dt,null,o)))}};se.displayName="Manager";var vo=({children:e,effect:t})=>(h.default.useEffect(t,[]),e),xo=e=>e;function Dt({filter:e=xo,children:t}){let o=(0,h.useContext)(Y),a=(0,h.useRef)(t),l=(0,h.useRef)(e);if(typeof a.current!="function")return h.default.createElement(h.Fragment,null,a.current);let d=l.current(o),c=(0,h.useMemo)(()=>[...Object.entries(d).reduce((n,p)=>n.concat(p),[])],[o.state]);return(0,h.useMemo)(()=>{let n=a.current;return h.default.createElement(n,{...d})},c)}function Eo(){let{state:e}=(0,h.useContext)(Y);return e}function M(){let{api:e}=(0,h.useContext)(Y);return e}function Mt(e,t){return typeof e>"u"?t:e}var Lt=(e,t=[])=>{let o=M();return(0,h.useEffect)(()=>(Object.entries(e).forEach(([a,l])=>o.on(a,l)),()=>{Object.entries(e).forEach(([a,l])=>o.off(a,l))}),t),o.emit};function Io(e){return M().isPrepared(e)}function Ro(e,t){let a=M().getCurrentParameter(e);return Mt(a,t)}var D={};function Nt(e,t){let o=M(),a=o.getAddonState(e),l=Mt(a,D[e]?D[e]:t),d=(p,i)=>{D[e]&&(D[e]=p),o.setAddonState(e,p,i)},c=(0,h.useMemo)(()=>{let p={[`${w.SHARED_STATE_CHANGED}-client-${e}`]:r=>d(r),[`${w.SHARED_STATE_SET}-client-${e}`]:r=>d(r)},i={[w.SET_STORIES]:()=>{let r=o.getAddonState(e);r?(D[e]=r,o.emit(`${w.SHARED_STATE_SET}-manager-${e}`,r)):D[e]?(d(D[e]),o.emit(`${w.SHARED_STATE_SET}-manager-${e}`,D[e])):t!==void 0&&(d(t),D[e]=t,o.emit(`${w.SHARED_STATE_SET}-manager-${e}`,t))},[w.STORY_CHANGED]:()=>{let r=o.getAddonState(e);r!==void 0&&o.emit(`${w.SHARED_STATE_SET}-manager-${e}`,r)}};return{...p,...i}},[e]),n=Lt(c);return[l,(p,i)=>{d(p,i),n(`${w.SHARED_STATE_CHANGED}-manager-${e}`,p)}]}function Ao(e,t){return Nt(e,t)}function wo(){let{getCurrentStoryData:e,updateStoryArgs:t,resetStoryArgs:o}=M(),a=e(),l=a.type==="story"?a.args:{},d=(0,h.useCallback)(n=>t(a,n),[a,t]),c=(0,h.useCallback)(n=>o(a,n),[a,o]);return[l,d,c]}function To(){let e=M();return[e.getGlobals(),e.updateGlobals]}function Co(){return M().getGlobalTypes()}function Oo(){let{getCurrentStoryData:e}=M();return e()}function ko(){let e=Oo();return(e==null?void 0:e.type)==="story"&&e.argTypes||{}}0&&(module.exports={ActiveTabs,Consumer,ManagerContext,Provider,combineParameters,merge,useAddonState,useArgTypes,useArgs,useChannel,useGlobalTypes,useGlobals,useParameter,useSharedState,useStoryPrepared,useStorybookApi,useStorybookState});
