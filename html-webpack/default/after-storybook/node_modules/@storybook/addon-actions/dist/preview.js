"use strict";var N=Object.create;var m=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var $=Object.getPrototypeOf,L=Object.prototype.hasOwnProperty;var Y=(n,o)=>{for(var t in o)m(n,t,{get:o[t],enumerable:!0})},d=(n,o,t,e)=>{if(o&&typeof o=="object"||typeof o=="function")for(let r of H(o))!L.call(n,r)&&r!==t&&m(n,r,{get:()=>o[r],enumerable:!(e=C(o,r))||e.enumerable});return n};var g=(n,o,t)=>(t=n!=null?N($(n)):{},d(o||!n||!n.__esModule?m(t,"default",{value:n,enumerable:!0}):t,n)),z=n=>d(m({},"__esModule",{value:!0}),n);var X={};Y(X,{argsEnhancers:()=>U,decorators:()=>Q});module.exports=z(X);var v=g(require("global")),y=require("@storybook/addons"),w=g(require("util-deprecate")),D=require("ts-dedent");var O=g(require("uuid-browser/v4")),b=require("@storybook/addons");var A="actions",h="storybook/actions",tt=`${h}/panel`,E=`${h}/action-event`;var p={depth:10,clearOnStoryChange:!0,limit:50};var x=(n,o)=>{let t=Object.getPrototypeOf(n);return!t||o(t)?t:x(t,o)},B=n=>Boolean(typeof n=="object"&&n&&x(n,o=>/^Synthetic(?:Base)?Event$/.test(o.constructor.name))&&typeof n.persist=="function"),K=n=>{if(B(n)){let o=Object.create(n.constructor.prototype,Object.getOwnPropertyDescriptors(n));o.persist();let t=Object.getOwnPropertyDescriptor(o,"view"),e=t==null?void 0:t.value;return typeof e=="object"&&(e==null?void 0:e.constructor.name)==="Window"&&Object.defineProperty(o,"view",{...t,value:Object.create(e.constructor.prototype)}),o}return n};function f(n,o={}){let t={...p,...o},e=function(...s){let i=b.addons.getChannel(),c=(0,O.default)(),a=5,u=s.map(K),S=s.length>1?u:u[0],M={id:c,count:0,data:{name:n,args:S},options:{...t,maxDepth:a+(t.depth||3),allowFunction:t.allowFunction||!1}};i.emit(E,M)};return e.isAction=!0,e}var l=(...n)=>{let o=p,t=n;t.length===1&&Array.isArray(t[0])&&([t]=t),t.length!==1&&typeof t[t.length-1]!="string"&&(o={...p,...t.pop()});let e=t[0];(t.length!==1||typeof e=="string")&&(e={},t.forEach(s=>{e[s]=s}));let r={};return Object.keys(e).forEach(s=>{r[s]=f(e[s],o)}),r};var{document:T,Element:j}=v.default,W=/^(\S+)\s*(.*)$/,V=j!=null&&!j.prototype.matches,q=V?"msMatchesSelector":"matches",F=(n,o)=>{if(n[q](o))return!0;let t=n.parentElement;return t?F(t,o):!1},G=(n,...o)=>{let t=n(...o);return Object.entries(t).map(([e,r])=>{let[s,i,c]=e.match(W)||[];return{eventName:i,handler:a=>{(!c||F(a.target,c))&&r(a)}}})},k=(0,w.default)((n,...o)=>{let t=T&&T.getElementById("storybook-root");(0,y.useEffect)(()=>{if(t!=null){let e=G(n,...o);return e.forEach(({eventName:r,handler:s})=>t.addEventListener(r,s)),()=>e.forEach(({eventName:r,handler:s})=>t.removeEventListener(r,s))}},[t,n,o])},D.dedent`
    withActions(options) is deprecated, please configure addon-actions using the addParameter api:

    addParameters({
      actions: {
        handles: options
      },
    });
  `),J=(n,o)=>{o&&k(n,o)},I=(0,y.makeDecorator)({name:"withActions",parameterName:A,skipIfNoParametersOrOptions:!0,wrapper:(n,o,{parameters:t,options:e})=>(J(l,e),t&&t.handles&&k(l,...t.handles),n(o))});var Q=[I];var P=(n,o)=>typeof o[n]>"u"&&!(n in o),R=n=>{let{initialArgs:o,argTypes:t,parameters:{actions:e}}=n;if(!e||e.disable||!e.argTypesRegex||!t)return{};let r=new RegExp(e.argTypesRegex);return Object.entries(t).filter(([i])=>!!r.test(i)).reduce((i,[c,a])=>(P(c,o)&&(i[c]=f(c)),i),{})},_=n=>{let{initialArgs:o,argTypes:t,parameters:{actions:e}}=n;return(e==null?void 0:e.disable)||!t?{}:Object.entries(t).filter(([s,i])=>!!i.action).reduce((s,[i,c])=>(P(i,o)&&(s[i]=f(typeof c.action=="string"?c.action:i)),s),{})};var U=[_,R];0&&(module.exports={argsEnhancers,decorators});
